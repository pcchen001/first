<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript é™£åˆ—è™•ç†æ–¹æ³•ç¤ºç¯„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft JhengHei', 'å¾®è»Ÿæ­£é»‘é«”', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            color: white;
            text-align: center;
            margin-bottom: 10px;
            font-size: 36px;
        }

        .subtitle {
            color: rgba(255, 255, 255, 0.8);
            text-align: center;
            margin-bottom: 40px;
            font-size: 16px;
        }

        section {
            background: white;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        section h2 {
            color: #333;
            margin-bottom: 25px;
            font-size: 24px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        h3 {
            color: #555;
            margin-top: 20px;
            margin-bottom: 15px;
            font-size: 18px;
        }

        /* ==================== æŒ‰éˆ•æ¨£å¼ ==================== */
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            margin-right: 10px;
            margin-bottom: 10px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .btn-success {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }

        .btn-danger {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .btn-info {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        /* ==================== æ¼”ç¤ºå®¹å™¨ ==================== */
        .demo-box {
            background: #f0f0f0;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }

        .demo-output {
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin-top: 10px;
            min-height: 50px;
            color: #333;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            max-height: 300px;
            overflow-y: auto;
            white-space: pre-wrap;
            word-break: break-all;
            line-height: 1.6;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            margin: 15px 0;
            border-left: 4px solid #667eea;
            line-height: 1.5;
        }

        .description {
            background: rgba(102, 126, 234, 0.1);
            border-left: 4px solid #667eea;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            color: #333;
            line-height: 1.6;
            font-size: 14px;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 15px 0;
        }

        .comparison-box {
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
        }

        .comparison-box h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .comparison-box .code-block {
            margin: 10px 0;
            font-size: 12px;
        }

        .feature-list {
            list-style: none;
            padding: 0;
        }

        .feature-list li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            color: #333;
            font-size: 14px;
            border-bottom: 1px solid #eee;
        }

        .feature-list li:before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: #11998e;
            font-weight: bold;
        }

        .method-card {
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }

        .method-card h4 {
            color: #667eea;
            margin-bottom: 8px;
            font-size: 15px;
        }

        .method-tag {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 11px;
            margin-right: 5px;
            margin-bottom: 8px;
        }

        .method-tag.mutate {
            background: #f5576c;
        }

        .method-tag.immutable {
            background: #11998e;
        }

        .demo-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            margin: 10px 0;
        }

        .array-display {
            background: white;
            border: 1px solid #ddd;
            padding: 12px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            margin: 10px 0;
            word-break: break-all;
        }

        /* ==================== éŸ¿æ‡‰å¼ ==================== */
        @media (max-width: 768px) {
            h1 {
                font-size: 28px;
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }

            section {
                padding: 20px;
            }
        }

        footer {
            text-align: center;
            color: rgba(255, 255, 255, 0.8);
            padding: 30px 20px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“Š JavaScript é™£åˆ—è™•ç†æ–¹æ³•è©³ç´°ç¤ºç¯„</h1>
        <p class="subtitle">æŒæ¡é™£åˆ—æ“ä½œçš„å„ç¨®æ–¹æ³•å’Œæ‡‰ç”¨</p>

        <!-- ==================== åŸºç¤é™£åˆ—æ–¹æ³• ==================== -->
        <section>
            <h2>ğŸ”§ åŸºç¤é™£åˆ—æ–¹æ³•</h2>

            <div class="method-card">
                <h4>push() - æ·»åŠ å…ƒç´ åˆ°é™£åˆ—æœ«å°¾</h4>
                <span class="method-tag mutate">ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoPush()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="push-output"></div>
                <div class="code-block">
const arr = [1, 2, 3];
arr.push(4, 5); // è¿”å›æ–°é•·åº¦ 5
console.log(arr); // [1, 2, 3, 4, 5]
                </div>
            </div>

            <div class="method-card">
                <h4>pop() - ç§»é™¤é™£åˆ—æœ«å°¾çš„å…ƒç´ </h4>
                <span class="method-tag mutate">ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoPop()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="pop-output"></div>
                <div class="code-block">
const arr = [1, 2, 3];
const removed = arr.pop(); // è¿”å›è¢«ç§»é™¤çš„å…ƒç´  3
console.log(arr); // [1, 2]
console.log(removed); // 3
                </div>
            </div>

            <div class="method-card">
                <h4>shift() - ç§»é™¤é™£åˆ—é–‹é ­çš„å…ƒç´ </h4>
                <span class="method-tag mutate">ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoShift()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="shift-output"></div>
                <div class="code-block">
const arr = [1, 2, 3];
const first = arr.shift(); // è¿”å› 1
console.log(arr); // [2, 3]
console.log(first); // 1
                </div>
            </div>

            <div class="method-card">
                <h4>unshift() - æ·»åŠ å…ƒç´ åˆ°é™£åˆ—é–‹é ­</h4>
                <span class="method-tag mutate">ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoUnshift()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="unshift-output"></div>
                <div class="code-block">
const arr = [2, 3];
arr.unshift(0, 1); // è¿”å›æ–°é•·åº¦ 4
console.log(arr); // [0, 1, 2, 3]
                </div>
            </div>

            <div class="method-card">
                <h4>splice() - åˆªé™¤æˆ–æ›¿æ›å…ƒç´ </h4>
                <span class="method-tag mutate">ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoSplice()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="splice-output"></div>
                <div class="code-block">
const arr = [1, 2, 3, 4, 5];

// åˆªé™¤ 2 å€‹å…ƒç´ ï¼Œå¾ç´¢å¼• 1 é–‹å§‹
arr.splice(1, 2); // è¿”å› [2, 3]
console.log(arr); // [1, 4, 5]

// æ’å…¥å…ƒç´ 
arr.splice(1, 0, 'a', 'b'); // åœ¨ç´¢å¼• 1 æ’å…¥
console.log(arr); // [1, 'a', 'b', 4, 5]
                </div>
            </div>

            <div class="method-card">
                <h4>slice() - æå–é™£åˆ—ç‰‡æ®µ (ä¸ä¿®æ”¹åŸé™£åˆ—)</h4>
                <span class="method-tag immutable">ä¸ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoSlice()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="slice-output"></div>
                <div class="code-block">
const arr = [1, 2, 3, 4, 5];

// æå–ç´¢å¼• 1 åˆ° 3 (ä¸åŒ…æ‹¬ 3)
const sliced = arr.slice(1, 3); // [2, 3]
console.log(arr); // [1, 2, 3, 4, 5] (åŸé™£åˆ—ä¸è®Š)

// è¤‡è£½æ•´å€‹é™£åˆ—
const copy = arr.slice(); // [1, 2, 3, 4, 5]
                </div>
            </div>

            <div class="method-card">
                <h4>join() - é€£æ¥é™£åˆ—å…ƒç´ æˆå­—ç¬¦ä¸²</h4>
                <span class="method-tag immutable">ä¸ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoJoin()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="join-output"></div>
                <div class="code-block">
const arr = ['Hello', 'World', 'JavaScript'];

const result1 = arr.join(); // "Hello,World,JavaScript"
const result2 = arr.join(' '); // "Hello World JavaScript"
const result3 = arr.join('-'); // "Hello-World-JavaScript"
                </div>
            </div>

            <div class="method-card">
                <h4>concat() - åˆä½µé™£åˆ—</h4>
                <span class="method-tag immutable">ä¸ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoConcat()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="concat-output"></div>
                <div class="code-block">
const arr1 = [1, 2];
const arr2 = [3, 4];
const arr3 = [5, 6];

const merged = arr1.concat(arr2, arr3);
// [1, 2, 3, 4, 5, 6]

// åŸé™£åˆ—ä¿æŒä¸è®Š
console.log(arr1); // [1, 2]
                </div>
            </div>

            <div class="method-card">
                <h4>indexOf() / lastIndexOf() - æŸ¥æ‰¾å…ƒç´ ä½ç½®</h4>
                <span class="method-tag immutable">ä¸ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoIndexOf()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="indexOf-output"></div>
                <div class="code-block">
const arr = [1, 2, 3, 2, 1];

console.log(arr.indexOf(2)); // 1 (ç¬¬ä¸€å€‹ 2 çš„ä½ç½®)
console.log(arr.lastIndexOf(2)); // 3 (æœ€å¾Œä¸€å€‹ 2 çš„ä½ç½®)
console.log(arr.indexOf(5)); // -1 (ä¸å­˜åœ¨)

// æª¢æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨
if (arr.indexOf(3) !== -1) {
    console.log('å…ƒç´ å­˜åœ¨');
}
                </div>
            </div>

            <div class="method-card">
                <h4>includes() - æª¢æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨</h4>
                <span class="method-tag immutable">ä¸ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoIncludes()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="includes-output"></div>
                <div class="code-block">
const arr = [1, 2, 3, NaN];

console.log(arr.includes(2)); // true
console.log(arr.includes(5)); // false
console.log(arr.includes(NaN)); // true (æ¯” indexOf æ›´å¥½ç”¨)

// æª¢æŸ¥é¸é …
if (arr.includes('3')) {
    console.log('åŒ…å« "3"');
}
                </div>
            </div>
        </section>

        <!-- ==================== éæ­·å’ŒæŸ¥æ‰¾æ–¹æ³• ==================== -->
        <section>
            <h2>ğŸ” éæ­·å’ŒæŸ¥æ‰¾æ–¹æ³•</h2>

            <div class="method-card">
                <h4>forEach() - éæ­·é™£åˆ—</h4>
                <span class="method-tag immutable">ä¸ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoForEach()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="forEach-output"></div>
                <div class="code-block">
const arr = ['a', 'b', 'c'];

arr.forEach((item, index, array) => {
    console.log(`${index}: ${item}`);
});
// 0: a
// 1: b
// 2: c

// ç„¡æ³• break æˆ– return
                </div>
            </div>

            <div class="method-card">
                <h4>map() - æ˜ å°„é™£åˆ—å…ƒç´ </h4>
                <span class="method-tag immutable">ä¸ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoMap()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="map-output"></div>
                <div class="code-block">
const numbers = [1, 2, 3, 4];

// è½‰æ›æ¯å€‹å…ƒç´ 
const doubled = numbers.map(x => x * 2);
console.log(doubled); // [2, 4, 6, 8]

// æå–ç‰©ä»¶å±¬æ€§
const users = [
    { name: 'Alice', age: 25 },
    { name: 'Bob', age: 30 }
];
const names = users.map(user => user.name);
console.log(names); // ['Alice', 'Bob']
                </div>
            </div>

            <div class="method-card">
                <h4>filter() - éæ¿¾é™£åˆ—å…ƒç´ </h4>
                <span class="method-tag immutable">ä¸ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoFilter()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="filter-output"></div>
                <div class="code-block">
const numbers = [1, 2, 3, 4, 5, 6];

// éæ¿¾å¶æ•¸
const evens = numbers.filter(x => x % 2 === 0);
console.log(evens); // [2, 4, 6]

// éæ¿¾ç‰©ä»¶é™£åˆ—
const users = [
    { name: 'Alice', active: true },
    { name: 'Bob', active: false },
    { name: 'Carol', active: true }
];
const activeUsers = users.filter(u => u.active);
// [{ name: 'Alice' }, { name: 'Carol' }]
                </div>
            </div>

            <div class="method-card">
                <h4>find() - æŸ¥æ‰¾ç¬¬ä¸€å€‹ç¬¦åˆæ¢ä»¶çš„å…ƒç´ </h4>
                <span class="method-tag immutable">ä¸ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoFind()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="find-output"></div>
                <div class="code-block">
const users = [
    { id: 1, name: 'Alice' },
    { id: 2, name: 'Bob' },
    { id: 3, name: 'Carol' }
];

// æŸ¥æ‰¾ç‰¹å®šç”¨æˆ¶
const user = users.find(u => u.id === 2);
console.log(user); // { id: 2, name: 'Bob' }

// ä¸å­˜åœ¨å‰‡è¿”å› undefined
const notFound = users.find(u => u.id === 999);
console.log(notFound); // undefined
                </div>
            </div>

            <div class="method-card">
                <h4>findIndex() - æŸ¥æ‰¾å…ƒç´ ç´¢å¼•</h4>
                <span class="method-tag immutable">ä¸ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoFindIndex()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="findIndex-output"></div>
                <div class="code-block">
const users = [
    { id: 1, name: 'Alice' },
    { id: 2, name: 'Bob' },
    { id: 3, name: 'Carol' }
];

const index = users.findIndex(u => u.name === 'Bob');
console.log(index); // 1

const notFound = users.findIndex(u => u.id === 999);
console.log(notFound); // -1
                </div>
            </div>

            <div class="method-card">
                <h4>some() - æª¢æŸ¥æ˜¯å¦æœ‰å…ƒç´ ç¬¦åˆæ¢ä»¶</h4>
                <span class="method-tag immutable">ä¸ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoSome()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="some-output"></div>
                <div class="code-block">
const numbers = [1, 2, 3, 4, 5];

// æª¢æŸ¥æ˜¯å¦æœ‰å¤§æ–¼ 3 çš„æ•¸å­—
const hasGreater = numbers.some(x => x > 3);
console.log(hasGreater); // true

// æª¢æŸ¥æ˜¯å¦æœ‰è² æ•¸
const hasNegative = numbers.some(x => x < 0);
console.log(hasNegative); // false
                </div>
            </div>

            <div class="method-card">
                <h4>every() - æª¢æŸ¥æ‰€æœ‰å…ƒç´ æ˜¯å¦ç¬¦åˆæ¢ä»¶</h4>
                <span class="method-tag immutable">ä¸ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoEvery()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="every-output"></div>
                <div class="code-block">
const numbers = [2, 4, 6, 8];

// æª¢æŸ¥æ‰€æœ‰æ•¸å­—æ˜¯å¦ç‚ºå¶æ•¸
const allEven = numbers.every(x => x % 2 === 0);
console.log(allEven); // true

const numbers2 = [1, 2, 3, 4];
const allEven2 = numbers2.every(x => x % 2 === 0);
console.log(allEven2); // false
                </div>
            </div>
        </section>

        <!-- ==================== è½‰æ›å’Œèšåˆæ–¹æ³• ==================== -->
        <section>
            <h2>ğŸ”„ è½‰æ›å’Œèšåˆæ–¹æ³•</h2>

            <div class="method-card">
                <h4>reduce() - æ­¸ç´é™£åˆ—ç‚ºå–®ä¸€å€¼</h4>
                <span class="method-tag immutable">ä¸ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoReduce()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="reduce-output"></div>
                <div class="code-block">
const numbers = [1, 2, 3, 4, 5];

// æ±‚å’Œ
const sum = numbers.reduce((acc, curr) => acc + curr, 0);
console.log(sum); // 15

// æ±‚ä¹˜ç©
const product = numbers.reduce((acc, curr) => acc * curr, 1);
console.log(product); // 120

// è¨ˆæ•¸ç‰©ä»¶
const arr = ['a', 'b', 'a', 'c', 'b', 'a'];
const count = arr.reduce((acc, curr) => {
    acc[curr] = (acc[curr] || 0) + 1;
    return acc;
}, {});
console.log(count); // { a: 3, b: 2, c: 1 }
                </div>
            </div>

            <div class="method-card">
                <h4>reduceRight() - å¾å³åˆ°å·¦æ­¸ç´</h4>
                <span class="method-tag immutable">ä¸ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoReduceRight()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="reduceRight-output"></div>
                <div class="code-block">
const arr = [1, 2, 3, 4];

// å¾å³åˆ°å·¦ç›¸åŠ 
const result = arr.reduceRight((acc, curr) => {
    console.log(`${acc} + ${curr}`);
    return acc + curr;
}, 0);
// 0 + 4, 4 + 3, 7 + 2, 9 + 1
console.log(result); // 10
                </div>
            </div>

            <div class="method-card">
                <h4>sort() - æ’åºé™£åˆ—</h4>
                <span class="method-tag mutate">ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoSort()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="sort-output"></div>
                <div class="code-block">
// å­—æ¯æ’åº
const fruits = ['banana', 'apple', 'cherry'];
fruits.sort();
console.log(fruits); // ['apple', 'banana', 'cherry']

// æ•¸å­—æ’åº (é‡è¦ï¼šé»˜èªæ˜¯å­—ç¬¦ä¸²æ’åº)
const nums = [10, 5, 40, 25, 1000];
nums.sort((a, b) => a - b); // å‡åº
console.log(nums); // [5, 10, 25, 40, 1000]

// é™åº
nums.sort((a, b) => b - a);
console.log(nums); // [1000, 40, 25, 10, 5]
                </div>
            </div>

            <div class="method-card">
                <h4>reverse() - åè½‰é™£åˆ—</h4>
                <span class="method-tag mutate">ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoReverse()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="reverse-output"></div>
                <div class="code-block">
const arr = [1, 2, 3, 4, 5];

arr.reverse();
console.log(arr); // [5, 4, 3, 2, 1]

// åè½‰å­—ç¬¦ä¸²
const str = "Hello";
const reversed = str.split('').reverse().join('');
console.log(reversed); // "olleH"
                </div>
            </div>

            <div class="method-card">
                <h4>flat() - æ‰å¹³åŒ–å¤šç¶­é™£åˆ—</h4>
                <span class="method-tag immutable">ä¸ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoFlat()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="flat-output"></div>
                <div class="code-block">
const arr = [1, 2, [3, 4, [5, 6]]];

// æ‰å¹³åŒ–ä¸€å±¤
const flat1 = arr.flat();
console.log(flat1); // [1, 2, 3, 4, [5, 6]]

// æ‰å¹³åŒ–æ‰€æœ‰å±¤ç´š
const flatAll = arr.flat(Infinity);
console.log(flatAll); // [1, 2, 3, 4, 5, 6]
                </div>
            </div>

            <div class="method-card">
                <h4>flatMap() - map + flat</h4>
                <span class="method-tag immutable">ä¸ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoFlatMap()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="flatMap-output"></div>
                <div class="code-block">
const arr = [1, 2, 3];

// ç­‰åŒæ–¼ map å¾Œ flat(1)
const result = arr.flatMap(x => [x, x * 2]);
console.log(result); // [1, 2, 2, 4, 3, 6]

// ç”¨ä¾†å»é™¤ç©ºå€¼
const arr2 = [1, 2, null, 3, undefined, 4];
const filtered = arr2.flatMap(x => x ? [x] : []);
console.log(filtered); // [1, 2, 3, 4]
                </div>
            </div>
        </section>

        <!-- ==================== å»ºç«‹å’Œè½‰æ› ==================== -->
        <section>
            <h2>âœ¨ å»ºç«‹å’Œè½‰æ›æ–¹æ³•</h2>

            <div class="method-card">
                <h4>Array.from() - è½‰æ›ç‚ºé™£åˆ—</h4>
                <span class="method-tag immutable">éœæ…‹æ–¹æ³•</span>
                <button onclick="demoArrayFrom()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="arrayFrom-output"></div>
                <div class="code-block">
// è½‰æ›å­—ç¬¦ä¸²
const str = "Hello";
const arr1 = Array.from(str);
console.log(arr1); // ['H', 'e', 'l', 'l', 'o']

// è½‰æ› NodeList
const elements = document.querySelectorAll('p');
const arr2 = Array.from(elements);

// è½‰æ›é¡æ•¸çµ„å°è±¡
const arrayLike = { 0: 'a', 1: 'b', length: 2 };
const arr3 = Array.from(arrayLike);
console.log(arr3); // ['a', 'b']

// ä½¿ç”¨æ˜ å°„å‡½æ•¸
const numbers = Array.from({ length: 3 }, (_, i) => i + 1);
console.log(numbers); // [1, 2, 3]
                </div>
            </div>

            <div class="method-card">
                <h4>Array.of() - å»ºç«‹é™£åˆ—</h4>
                <span class="method-tag immutable">éœæ…‹æ–¹æ³•</span>
                <button onclick="demoArrayOf()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="arrayOf-output"></div>
                <div class="code-block">
// å»ºç«‹åŒ…å«å–®ä¸€å…ƒç´  5 çš„é™£åˆ—
const arr1 = Array.of(5);
console.log(arr1); // [5]

// è€Œ Array(5) æœƒå»ºç«‹ 5 å€‹ç©ºå…ƒç´ çš„é™£åˆ—
const arr2 = Array(5);
console.log(arr2); // [empty Ã— 5]

// Array.of ç¸½æ˜¯å»ºç«‹é™£åˆ—
const arr3 = Array.of(1, 2, 3);
console.log(arr3); // [1, 2, 3]
                </div>
            </div>

            <div class="method-card">
                <h4>fill() - å¡«å……é™£åˆ—å…ƒç´ </h4>
                <span class="method-tag mutate">ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoFill()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="fill-output"></div>
                <div class="code-block">
const arr = new Array(5);

// ç”¨ 0 å¡«å……æ•´å€‹é™£åˆ—
arr.fill(0);
console.log(arr); // [0, 0, 0, 0, 0]

// å¡«å……éƒ¨åˆ†é™£åˆ—
const arr2 = [1, 2, 3, 4, 5];
arr2.fill('x', 1, 3); // å¾ç´¢å¼• 1 åˆ° 3 (ä¸åŒ…æ‹¬ 3)
console.log(arr2); // [1, 'x', 'x', 4, 5]
                </div>
            </div>

            <div class="method-card">
                <h4>copyWithin() - é™£åˆ—å…§è¤‡è£½</h4>
                <span class="method-tag mutate">ä¿®æ”¹åŸé™£åˆ—</span>
                <button onclick="demoCopyWithin()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="copyWithin-output"></div>
                <div class="code-block">
const arr = [1, 2, 3, 4, 5];

// è¤‡è£½ç´¢å¼• 3, 4 åˆ°ç´¢å¼• 0, 1
arr.copyWithin(0, 3, 5);
console.log(arr); // [4, 5, 3, 4, 5]

// è¤‡è£½ç´¢å¼• 0, 1 åˆ°ç´¢å¼• 2
const arr2 = [1, 2, 3, 4, 5];
arr2.copyWithin(2, 0, 2);
console.log(arr2); // [1, 2, 1, 2, 5]
                </div>
            </div>
        </section>

        <!-- ==================== é€²éšæ‡‰ç”¨ ==================== -->
        <section>
            <h2>ğŸŒŸ é€²éšæ‡‰ç”¨å’Œçµ„åˆ</h2>

            <h3>map å’Œ filter çµ„åˆ</h3>
            <div class="demo-box">
                <button onclick="demoChaining()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="chaining-output"></div>
            </div>

            <div class="code-block">
const products = [
    { name: 'iPhone', price: 999, inStock: true },
    { name: 'iPad', price: 599, inStock: false },
    { name: 'Mac', price: 1999, inStock: true }
];

// å…ˆéæ¿¾æœ‰è²¨çš„ï¼Œå†æå–åç¨±å’ŒæŠ˜æ‰£åƒ¹
const inStockDiscounted = products
    .filter(p => p.inStock)
    .map(p => ({
        name: p.name,
        discountedPrice: p.price * 0.9
    }));

console.log(inStockDiscounted);
// [
//     { name: 'iPhone', discountedPrice: 899.1 },
//     { name: 'Mac', discountedPrice: 1799.1 }
// ]
            </div>

            <h3>ä½¿ç”¨ reduce æ§‹å»ºç‰©ä»¶</h3>
            <div class="demo-box">
                <button onclick="demoReduceGroup()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="reduceGroup-output"></div>
            </div>

            <div class="code-block">
const students = [
    { name: 'Alice', grade: 'A', score: 90 },
    { name: 'Bob', grade: 'B', score: 80 },
    { name: 'Carol', grade: 'A', score: 92 }
];

// æŒ‰æˆç¸¾åˆ†çµ„
const byGrade = students.reduce((acc, student) => {
    const grade = student.grade;
    if (!acc[grade]) acc[grade] = [];
    acc[grade].push(student);
    return acc;
}, {});

console.log(byGrade);
// {
//     A: [{ name: 'Alice' }, { name: 'Carol' }],
//     B: [{ name: 'Bob' }]
// }
            </div>

            <h3>å¯¦è¸ï¼šæ•¸æ“šçµ±è¨ˆ</h3>
            <div class="demo-box">
                <button onclick="demoDataStats()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="dataStats-output"></div>
            </div>

            <div class="code-block">
const scores = [85, 92, 78, 95, 88, 76, 90];

// è¨ˆç®—çµ±è¨ˆä¿¡æ¯
const stats = {
    // æ±‚å’Œ
    sum: scores.reduce((a, b) => a + b, 0),
    // å¹³å‡
    average: scores.reduce((a, b) => a + b, 0) / scores.length,
    // æœ€å¤§å€¼
    max: Math.max(...scores),
    // æœ€å°å€¼
    min: Math.min(...scores),
    // åŠæ ¼äººæ•¸ (>=60)
    passed: scores.filter(s => s >= 60).length,
    // å„ªç§€äººæ•¸ (>=90)
    excellent: scores.filter(s => s >= 90).length
};

console.log(stats);
// { sum: 604, average: 86.3, max: 95, min: 76, passed: 7, excellent: 2 }
            </div>

            <h3>å¯¦è¸ï¼šæ•¸æ“šè½‰æ›</h3>
            <div class="demo-box">
                <button onclick="demoDataTransform()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="dataTransform-output"></div>
            </div>

            <div class="code-block">
const users = [
    { id: 1, name: 'Alice', age: 25, dept: 'HR' },
    { id: 2, name: 'Bob', age: 30, dept: 'IT' },
    { id: 3, name: 'Carol', age: 28, dept: 'IT' }
];

// è½‰æ›ç‚º Map (æ–¹ä¾¿æŸ¥è©¢)
const userMap = new Map(users.map(u => [u.id, u]));
console.log(userMap.get(2)); // { id: 2, name: 'Bob' }

// åˆ†çµ„çµ±è¨ˆ
const deptCount = users.reduce((acc, u) => {
    acc[u.dept] = (acc[u.dept] || 0) + 1;
    return acc;
}, {});
console.log(deptCount); // { HR: 1, IT: 2 }

// æŠ½å–ç‰¹å®šå­—æ®µ
const names = users.map(u => u.name);
console.log(names); // ['Alice', 'Bob', 'Carol']
            </div>
        </section>

        <!-- ==================== æ€§èƒ½å’Œæœ€ä½³å¯¦è¸ ==================== -->
        <section>
            <h2>âš¡ æ€§èƒ½å’Œæœ€ä½³å¯¦è¸</h2>

            <div class="description">
                <strong>ä¿®æ”¹ vs ä¸ä¿®æ”¹åŸé™£åˆ—ï¼š</strong><br>
                â€¢ <strong>ä¿®æ”¹åŸé™£åˆ—</strong>ï¼špush, pop, shift, unshift, splice, sort, reverse, fill, copyWithin<br>
                â€¢ <strong>ä¸ä¿®æ”¹åŸé™£åˆ—</strong>ï¼šslice, concat, map, filter, find, reduce, flat, flatMap<br><br>
                <strong>é¸æ“‡å»ºè­°ï¼š</strong><br>
                â€¢ å¦‚æœä¸éœ€è¦ä¿®æ”¹åŸé™£åˆ—ï¼Œä½¿ç”¨ä¸ä¿®æ”¹çš„æ–¹æ³•<br>
                â€¢ é¿å…æ„å¤–ä¿®æ”¹ï¼Œé˜²æ­¢ bug<br>
                â€¢ å‡½æ•¸å¼ç·¨ç¨‹é¢¨æ ¼æ›´æ˜“ç†è§£å’Œç¶­è­·
            </div>

            <h3>å¸¸è¦‹æ€§èƒ½é™·é˜±</h3>
            <div class="demo-box">
                <button onclick="demoPerformance()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="performance-output"></div>
            </div>

            <div class="code-block">
// âŒ ä½æ•ˆï¼šå¤šæ¬¡éæ­·
const nums = [1, 2, 3, 4, 5, 6];
const result1 = nums
    .filter(x => x > 2)
    .map(x => x * 2)
    .filter(x => x < 10);
// éæ­·äº† 3 æ¬¡

// âœ… é«˜æ•ˆï¼šå–®æ¬¡éæ­·
const result2 = nums.reduce((acc, x) => {
    if (x > 2 && x * 2 < 10) {
        acc.push(x * 2);
    }
    return acc;
}, []);

// âŒ é¿å…ï¼šåœ¨è¿´åœˆä¸­ä¿®æ”¹é•·åº¦
for (let i = 0; i < arr.length; i++) {
    if (someCondition) {
        arr.splice(i, 1); // æœƒè·³éå…ƒç´ 
    }
}

// âœ… æ­£ç¢ºï¼š
const filtered = arr.filter(item => !someCondition);

// âŒ é¿å…ï¼šforEach ä¸èƒ½ä¸­æ–·
arr.forEach(x => {
    if (x > 5) return; // ä¸æœƒåœæ­¢è¿´åœˆ
});

// âœ… æ‡‰è©²ï¼š
for (const x of arr) {
    if (x > 5) break; // æ­£ç¢ºåœæ­¢
}
            </div>

            <h3>æ–¹æ³•é¸æ“‡æŒ‡å—</h3>
            <div class="demo-box">
                <div style="padding: 15px;">
                    <h4 style="color: #667eea; margin-bottom: 10px;">âœ… æ‡‰è©²ä½¿ç”¨ï¼š</h4>
                    <ul class="feature-list">
                        <li>ç°¡å–®éæ­·ç”¨ forEach</li>
                        <li>è®Šæ›æ•¸æ“šç”¨ map</li>
                        <li>éæ¿¾æ•¸æ“šç”¨ filter</li>
                        <li>æŸ¥æ‰¾å–®å€‹ç”¨ find</li>
                        <li>èšåˆæ•¸æ“šç”¨ reduce</li>
                        <li>éˆå¼æ“ä½œå……åˆ†åˆ©ç”¨</li>
                    </ul>

                    <h4 style="color: #f5576c; margin-bottom: 10px; margin-top: 20px;">âŒ é¿å…ï¼š</h4>
                    <ul class="feature-list" style="color: #f5576c;">
                        <li>ä¸å¿…è¦åœ°ä¿®æ”¹åŸé™£åˆ—</li>
                        <li>ä½¿ç”¨ var å®£å‘Šé™£åˆ—</li>
                        <li>å‡è¨­ indexOf ç¸½èƒ½æ‰¾åˆ°</li>
                        <li>å¿½è¦–æ’åºéœ€è¦æ¯”è¼ƒå‡½æ•¸</li>
                        <li>éåº¦éˆå¼æ“ä½œé™ä½å¯è®€æ€§</li>
                    </ul>
                </div>
            </div>
        </section>
    </div>

    <footer>
        <p>JavaScript é™£åˆ—æ–¹æ³•å­¸ç¿’æ•™ç¨‹ | 2026</p>
        <p>æŒæ¡é™£åˆ—æ–¹æ³•ï¼Œé«˜æ•ˆè™•ç†æ•¸æ“š âœ¨</p>
    </footer>

    <script>
        // ==================== åŸºç¤æ–¹æ³• ====================
        function demoPush() {
            let output = "push() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const arr = [1, 2, 3];
            output += "åˆå§‹: [1, 2, 3]\n";
            
            const result = arr.push(4, 5);
            output += `arr.push(4, 5) è¿”å›: ${result}\n`;
            output += `çµæœ: [${arr.join(', ')}]\n`;
            
            document.getElementById('push-output').textContent = output;
        }

        function demoPop() {
            let output = "pop() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const arr = [1, 2, 3];
            output += "åˆå§‹: [1, 2, 3]\n";
            
            const removed = arr.pop();
            output += `removed = arr.pop() è¿”å›: ${removed}\n`;
            output += `çµæœ: [${arr.join(', ')}]\n`;
            
            document.getElementById('pop-output').textContent = output;
        }

        function demoShift() {
            let output = "shift() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const arr = [1, 2, 3];
            output += "åˆå§‹: [1, 2, 3]\n";
            
            const first = arr.shift();
            output += `first = arr.shift() è¿”å›: ${first}\n`;
            output += `çµæœ: [${arr.join(', ')}]\n`;
            
            document.getElementById('shift-output').textContent = output;
        }

        function demoUnshift() {
            let output = "unshift() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const arr = [2, 3];
            output += "åˆå§‹: [2, 3]\n";
            
            const length = arr.unshift(0, 1);
            output += `arr.unshift(0, 1) è¿”å›: ${length}\n`;
            output += `çµæœ: [${arr.join(', ')}]\n`;
            
            document.getElementById('unshift-output').textContent = output;
        }

        function demoSplice() {
            let output = "splice() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const arr1 = [1, 2, 3, 4, 5];
            output += "åˆå§‹: [1, 2, 3, 4, 5]\n\n";
            
            const removed = arr1.splice(1, 2);
            output += "arr.splice(1, 2) è¿”å›: [" + removed.join(', ') + "]\n";
            output += `çµæœ: [${arr1.join(', ')}]\n\n`;
            
            const arr2 = [1, 4, 5];
            arr2.splice(1, 0, 2, 3);
            output += "arr.splice(1, 0, 2, 3) (æ’å…¥)\n";
            output += `çµæœ: [${arr2.join(', ')}]\n`;
            
            document.getElementById('splice-output').textContent = output;
        }

        function demoSlice() {
            let output = "slice() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const arr = [1, 2, 3, 4, 5];
            output += "åŸé™£åˆ—: [1, 2, 3, 4, 5]\n\n";
            
            const sliced = arr.slice(1, 3);
            output += "sliced = arr.slice(1, 3)\n";
            output += `è¿”å›: [${sliced.join(', ')}]\n`;
            output += `åŸé™£åˆ—: [${arr.join(', ')}] (ä¸è®Š)\n\n`;
            
            const copy = arr.slice();
            output += "copy = arr.slice()\n";
            output += `è¿”å›: [${copy.join(', ')}]`;
            
            document.getElementById('slice-output').textContent = output;
        }

        function demoJoin() {
            let output = "join() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const arr = ['Hello', 'World', 'JavaScript'];
            output += `é™£åˆ—: [${arr.map(x => '"' + x + '"').join(', ')}]\n\n`;
            
            output += `arr.join() = "${arr.join()}"\n`;
            output += `arr.join(' ') = "${arr.join(' ')}"\n`;
            output += `arr.join('-') = "${arr.join('-')}"`;
            
            document.getElementById('join-output').textContent = output;
        }

        function demoConcat() {
            let output = "concat() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const arr1 = [1, 2];
            const arr2 = [3, 4];
            const arr3 = [5, 6];
            
            output += `arr1 = [${arr1.join(', ')}]\n`;
            output += `arr2 = [${arr2.join(', ')}]\n`;
            output += `arr3 = [${arr3.join(', ')}]\n\n`;
            
            const merged = arr1.concat(arr2, arr3);
            output += `merged = arr1.concat(arr2, arr3)\n`;
            output += `çµæœ: [${merged.join(', ')}]\n\n`;
            output += `arr1: [${arr1.join(', ')}] (ä¸è®Š)`;
            
            document.getElementById('concat-output').textContent = output;
        }

        function demoIndexOf() {
            let output = "indexOf() / lastIndexOf() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const arr = [1, 2, 3, 2, 1];
            output += `é™£åˆ—: [${arr.join(', ')}]\n\n`;
            
            output += `arr.indexOf(2) = ${arr.indexOf(2)}\n`;
            output += `arr.lastIndexOf(2) = ${arr.lastIndexOf(2)}\n`;
            output += `arr.indexOf(5) = ${arr.indexOf(5)}\n`;
            
            document.getElementById('indexOf-output').textContent = output;
        }

        function demoIncludes() {
            let output = "includes() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const arr = [1, 2, 3, NaN];
            output += `é™£åˆ—: [1, 2, 3, NaN]\n\n`;
            
            output += `arr.includes(2) = ${arr.includes(2)}\n`;
            output += `arr.includes(5) = ${arr.includes(5)}\n`;
            output += `arr.includes(NaN) = ${arr.includes(NaN)} (includes å¯ä»¥æ‰¾åˆ° NaN)\n`;
            output += `arr.indexOf(NaN) = ${arr.indexOf(NaN)} (indexOf æ‰¾ä¸åˆ° NaN)\n`;
            
            document.getElementById('includes-output').textContent = output;
        }

        // ==================== éæ­·å’ŒæŸ¥æ‰¾ ====================
        function demoForEach() {
            let output = "forEach() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const arr = ['a', 'b', 'c'];
            output += `é™£åˆ—: [${arr.map(x => '"' + x + '"').join(', ')}]\n\n`;
            output += "éæ­·çµæœ:\n";
            
            arr.forEach((item, index, array) => {
                output += `${index}: ${item}\n`;
            });
            
            document.getElementById('forEach-output').textContent = output;
        }

        function demoMap() {
            let output = "map() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const numbers = [1, 2, 3, 4];
            output += `åŸé™£åˆ—: [${numbers.join(', ')}]\n\n`;
            
            const doubled = numbers.map(x => x * 2);
            output += `doubled = numbers.map(x => x * 2)\n`;
            output += `çµæœ: [${doubled.join(', ')}]\n\n`;
            
            const users = [
                { name: 'Alice', age: 25 },
                { name: 'Bob', age: 30 }
            ];
            const names = users.map(u => u.name);
            output += `æå–å±¬æ€§: users.map(u => u.name)\n`;
            output += `çµæœ: [${names.map(x => '"' + x + '"').join(', ')}]`;
            
            document.getElementById('map-output').textContent = output;
        }

        function demoFilter() {
            let output = "filter() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const numbers = [1, 2, 3, 4, 5, 6];
            output += `åŸé™£åˆ—: [${numbers.join(', ')}]\n\n`;
            
            const evens = numbers.filter(x => x % 2 === 0);
            output += `evens = numbers.filter(x => x % 2 === 0)\n`;
            output += `çµæœ: [${evens.join(', ')}]`;
            
            document.getElementById('filter-output').textContent = output;
        }

        function demoFind() {
            let output = "find() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const users = [
                { id: 1, name: 'Alice' },
                { id: 2, name: 'Bob' },
                { id: 3, name: 'Carol' }
            ];
            
            output += "ç”¨æˆ¶åˆ—è¡¨:\n";
            users.forEach(u => output += `  { id: ${u.id}, name: '${u.name}' }\n`);
            output += "\n";
            
            const user = users.find(u => u.id === 2);
            output += `user = users.find(u => u.id === 2)\n`;
            output += `çµæœ: { id: ${user.id}, name: '${user.name}' }\n\n`;
            
            const notFound = users.find(u => u.id === 999);
            output += `notFound = users.find(u => u.id === 999)\n`;
            output += `çµæœ: ${notFound}`;
            
            document.getElementById('find-output').textContent = output;
        }

        function demoFindIndex() {
            let output = "findIndex() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const users = [
                { id: 1, name: 'Alice' },
                { id: 2, name: 'Bob' },
                { id: 3, name: 'Carol' }
            ];
            
            const index = users.findIndex(u => u.name === 'Bob');
            output += `index = users.findIndex(u => u.name === 'Bob')\n`;
            output += `çµæœ: ${index}\n\n`;
            
            const notFound = users.findIndex(u => u.id === 999);
            output += `notFound = users.findIndex(u => u.id === 999)\n`;
            output += `çµæœ: ${notFound}`;
            
            document.getElementById('findIndex-output').textContent = output;
        }

        function demoSome() {
            let output = "some() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const numbers = [1, 2, 3, 4, 5];
            output += `é™£åˆ—: [${numbers.join(', ')}]\n\n`;
            
            const hasGreater = numbers.some(x => x > 3);
            output += `has = numbers.some(x => x > 3)\n`;
            output += `çµæœ: ${hasGreater}\n\n`;
            
            const hasNegative = numbers.some(x => x < 0);
            output += `has = numbers.some(x => x < 0)\n`;
            output += `çµæœ: ${hasNegative}`;
            
            document.getElementById('some-output').textContent = output;
        }

        function demoEvery() {
            let output = "every() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const numbers = [2, 4, 6, 8];
            output += `é™£åˆ—: [${numbers.join(', ')}]\n\n`;
            
            const allEven = numbers.every(x => x % 2 === 0);
            output += `all = numbers.every(x => x % 2 === 0)\n`;
            output += `çµæœ: ${allEven}\n\n`;
            
            const numbers2 = [1, 2, 3, 4];
            output += `é™£åˆ—2: [${numbers2.join(', ')}]\n`;
            const allEven2 = numbers2.every(x => x % 2 === 0);
            output += `all = numbers2.every(x => x % 2 === 0)\n`;
            output += `çµæœ: ${allEven2}`;
            
            document.getElementById('every-output').textContent = output;
        }

        // ==================== è½‰æ›å’Œèšåˆ ====================
        function demoReduce() {
            let output = "reduce() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const numbers = [1, 2, 3, 4, 5];
            output += `é™£åˆ—: [${numbers.join(', ')}]\n\n`;
            
            const sum = numbers.reduce((acc, curr) => acc + curr, 0);
            output += `sum = numbers.reduce((a, b) => a + b, 0)\n`;
            output += `çµæœ: ${sum}\n\n`;
            
            const product = numbers.reduce((acc, curr) => acc * curr, 1);
            output += `product = numbers.reduce((a, b) => a * b, 1)\n`;
            output += `çµæœ: ${product}`;
            
            document.getElementById('reduce-output').textContent = output;
        }

        function demoReduceRight() {
            let output = "reduceRight() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const arr = [1, 2, 3, 4];
            output += `é™£åˆ—: [${arr.join(', ')}]\n\n`;
            
            const result = arr.reduceRight((acc, curr) => acc + curr, 0);
            output += `result = arr.reduceRight((a, b) => a + b, 0)\n`;
            output += `çµæœ: ${result}\n\n`;
            output += `åŸ·è¡Œé †åº: 0 + 4 = 4, 4 + 3 = 7, 7 + 2 = 9, 9 + 1 = 10`;
            
            document.getElementById('reduceRight-output').textContent = output;
        }

        function demoSort() {
            let output = "sort() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const fruits = ['banana', 'apple', 'cherry'];
            output += `æ°´æœ: [${fruits.map(x => '"' + x + '"').join(', ')}]\n`;
            fruits.sort();
            output += `sort() å¾Œ: [${fruits.map(x => '"' + x + '"').join(', ')}]\n\n`;
            
            const nums = [10, 5, 40, 25, 1000];
            output += `æ•¸å­—: [${nums.join(', ')}]\n`;
            output += "sort() å¾Œ (å­—ç¬¦ä¸²æ’åº): [" + [...nums].sort().join(', ') + "]\n";
            
            const nums2 = [10, 5, 40, 25, 1000];
            nums2.sort((a, b) => a - b);
            output += `sort((a, b) => a - b) å¾Œ: [${nums2.join(', ')}]`;
            
            document.getElementById('sort-output').textContent = output;
        }

        function demoReverse() {
            let output = "reverse() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const arr = [1, 2, 3, 4, 5];
            output += `åŸé™£åˆ—: [${arr.join(', ')}]\n`;
            arr.reverse();
            output += `reverse() å¾Œ: [${arr.join(', ')}]\n\n`;
            
            const str = "Hello";
            const reversed = str.split('').reverse().join('');
            output += `åè½‰å­—ç¬¦ä¸²: "${str}"\n`;
            output += `çµæœ: "${reversed}"`;
            
            document.getElementById('reverse-output').textContent = output;
        }

        function demoFlat() {
            let output = "flat() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const arr = [1, 2, [3, 4, [5, 6]]];
            output += "åŸé™£åˆ—: [1, 2, [3, 4, [5, 6]]]\n\n";
            
            const flat1 = arr.flat();
            output += `flat() å¾Œ: [${flat1.join(', ')}]\n`;
            output += "(åªæ‰å¹³åŒ–ä¸€å±¤)\n\n";
            
            const flatAll = arr.flat(Infinity);
            output += `flat(Infinity) å¾Œ: [${flatAll.join(', ')}]`;
            
            document.getElementById('flat-output').textContent = output;
        }

        function demoFlatMap() {
            let output = "flatMap() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const arr = [1, 2, 3];
            output += `åŸé™£åˆ—: [${arr.join(', ')}]\n\n`;
            
            const result = arr.flatMap(x => [x, x * 2]);
            output += `result = arr.flatMap(x => [x, x * 2])\n`;
            output += `çµæœ: [${result.join(', ')}]\n\n`;
            
            const arr2 = [1, 2, null, 3, undefined, 4];
            const filtered = arr2.flatMap(x => x ? [x] : []);
            output += `éæ¿¾ç©ºå€¼: [${filtered.join(', ')}]`;
            
            document.getElementById('flatMap-output').textContent = output;
        }

        // ==================== å»ºç«‹å’Œè½‰æ› ====================
        function demoArrayFrom() {
            let output = "Array.from() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const str = "Hello";
            const arr1 = Array.from(str);
            output += `Array.from("Hello")\n`;
            output += `çµæœ: [${arr1.map(x => '"' + x + '"').join(', ')}]\n\n`;
            
            const arrayLike = { 0: 'a', 1: 'b', length: 2 };
            const arr2 = Array.from(arrayLike);
            output += `Array.from({ 0: 'a', 1: 'b', length: 2 })\n`;
            output += `çµæœ: [${arr2.map(x => '"' + x + '"').join(', ')}]\n\n`;
            
            const numbers = Array.from({ length: 5 }, (_, i) => i + 1);
            output += `Array.from({ length: 5 }, (_, i) => i + 1)\n`;
            output += `çµæœ: [${numbers.join(', ')}]`;
            
            document.getElementById('arrayFrom-output').textContent = output;
        }

        function demoArrayOf() {
            let output = "Array.of() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const arr1 = Array.of(5);
            output += `Array.of(5)\n`;
            output += `çµæœ: [${arr1.join(', ')}]\n\n`;
            
            const arr2 = Array(5);
            output += `Array(5) (å°æ¯”)\n`;
            output += `çµæœ: 5 å€‹ç©ºä½çš„é™£åˆ—\n\n`;
            
            const arr3 = Array.of(1, 2, 3);
            output += `Array.of(1, 2, 3)\n`;
            output += `çµæœ: [${arr3.join(', ')}]`;
            
            document.getElementById('arrayOf-output').textContent = output;
        }

        function demoFill() {
            let output = "fill() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const arr = new Array(5);
            arr.fill(0);
            output += `const arr = new Array(5);\n`;
            output += `arr.fill(0)\n`;
            output += `çµæœ: [${arr.join(', ')}]\n\n`;
            
            const arr2 = [1, 2, 3, 4, 5];
            arr2.fill('x', 1, 3);
            output += `[1, 2, 3, 4, 5].fill('x', 1, 3)\n`;
            output += `çµæœ: [${arr2.join(', ')}]`;
            
            document.getElementById('fill-output').textContent = output;
        }

        function demoCopyWithin() {
            let output = "copyWithin() ç¤ºç¯„\n";
            output += "==================\n\n";
            
            const arr = [1, 2, 3, 4, 5];
            arr.copyWithin(0, 3, 5);
            output += `[1, 2, 3, 4, 5].copyWithin(0, 3, 5)\n`;
            output += `çµæœ: [${arr.join(', ')}]`;
            
            document.getElementById('copyWithin-output').textContent = output;
        }

        // ==================== é€²éšæ‡‰ç”¨ ====================
        function demoChaining() {
            let output = "map å’Œ filter éˆå¼çµ„åˆ\n";
            output += "==================\n\n";
            
            const products = [
                { name: 'iPhone', price: 999, inStock: true },
                { name: 'iPad', price: 599, inStock: false },
                { name: 'Mac', price: 1999, inStock: true }
            ];
            
            output += "åŸå§‹æ•¸æ“š:\n";
            products.forEach(p => {
                output += `  { name: '${p.name}', price: ${p.price}, inStock: ${p.inStock} }\n`;
            });
            output += "\n";
            
            const result = products
                .filter(p => p.inStock)
                .map(p => ({
                    name: p.name,
                    discountedPrice: (p.price * 0.9).toFixed(2)
                }));
            
            output += "filter(inStock).map(æ‰“æŠ˜):\n";
            result.forEach(p => {
                output += `  { name: '${p.name}', discountedPrice: ${p.discountedPrice} }\n`;
            });
            
            document.getElementById('chaining-output').textContent = output;
        }

        function demoReduceGroup() {
            let output = "ä½¿ç”¨ reduce åˆ†çµ„\n";
            output += "==================\n\n";
            
            const students = [
                { name: 'Alice', grade: 'A', score: 90 },
                { name: 'Bob', grade: 'B', score: 80 },
                { name: 'Carol', grade: 'A', score: 92 }
            ];
            
            const byGrade = students.reduce((acc, student) => {
                const grade = student.grade;
                if (!acc[grade]) acc[grade] = [];
                acc[grade].push(student);
                return acc;
            }, {});
            
            output += "æŒ‰æˆç¸¾åˆ†çµ„:\n\n";
            for (const grade in byGrade) {
                output += `æˆç¸¾ ${grade}:\n`;
                byGrade[grade].forEach(s => {
                    output += `  - ${s.name} (${s.score})\n`;
                });
            }
            
            document.getElementById('reduceGroup-output').textContent = output;
        }

        function demoDataStats() {
            let output = "æ•¸æ“šçµ±è¨ˆæ‡‰ç”¨\n";
            output += "==================\n\n";
            
            const scores = [85, 92, 78, 95, 88, 76, 90];
            output += `åˆ†æ•¸: [${scores.join(', ')}]\n\n`;
            
            const sum = scores.reduce((a, b) => a + b, 0);
            const avg = (sum / scores.length).toFixed(2);
            const max = Math.max(...scores);
            const min = Math.min(...scores);
            const passed = scores.filter(s => s >= 60).length;
            const excellent = scores.filter(s => s >= 90).length;
            
            output += `ç¸½åˆ†: ${sum}\n`;
            output += `å¹³å‡: ${avg}\n`;
            output += `æœ€é«˜: ${max}\n`;
            output += `æœ€ä½: ${min}\n`;
            output += `åŠæ ¼äººæ•¸: ${passed}\n`;
            output += `å„ªç§€äººæ•¸: ${excellent}`;
            
            document.getElementById('dataStats-output').textContent = output;
        }

        function demoDataTransform() {
            let output = "æ•¸æ“šè½‰æ›æ‡‰ç”¨\n";
            output += "==================\n\n";
            
            const users = [
                { id: 1, name: 'Alice', age: 25, dept: 'HR' },
                { id: 2, name: 'Bob', age: 30, dept: 'IT' },
                { id: 3, name: 'Carol', age: 28, dept: 'IT' }
            ];
            
            output += "åŸå§‹æ•¸æ“š:\n";
            users.forEach(u => {
                output += `  { id: ${u.id}, name: '${u.name}', age: ${u.age}, dept: '${u.dept}' }\n`;
            });
            output += "\n";
            
            const names = users.map(u => u.name);
            output += `æŠ½å–åå­—: [${names.map(x => '"' + x + '"').join(', ')}]\n\n`;
            
            const deptCount = users.reduce((acc, u) => {
                acc[u.dept] = (acc[u.dept] || 0) + 1;
                return acc;
            }, {});
            output += `éƒ¨é–€çµ±è¨ˆ: `;
            output += JSON.stringify(deptCount);
            
            document.getElementById('dataTransform-output').textContent = output;
        }

        function demoPerformance() {
            let output = "æ€§èƒ½å’Œæœ€ä½³å¯¦è¸\n";
            output += "==================\n\n";
            
            const nums = [1, 2, 3, 4, 5, 6];
            
            // å¤šæ¬¡éæ­·
            const start1 = performance.now();
            const result1 = nums
                .filter(x => x > 2)
                .map(x => x * 2)
                .filter(x => x < 10);
            const time1 = performance.now() - start1;
            
            // å–®æ¬¡éæ­·
            const start2 = performance.now();
            const result2 = nums.reduce((acc, x) => {
                if (x > 2 && x * 2 < 10) {
                    acc.push(x * 2);
                }
                return acc;
            }, []);
            const time2 = performance.now() - start2;
            
            output += `å…©ç¨®æ–¹æ³•çµæœç›¸åŒ:\n`;
            output += `æ–¹æ³•1: [${result1.join(', ')}]\n`;
            output += `æ–¹æ³•2: [${result2.join(', ')}]\n\n`;
            
            output += `æ€§èƒ½å°æ¯”:\n`;
            output += `éˆå¼ (3 æ¬¡éæ­·): ${time1.toFixed(4)} ms\n`;
            output += `reduce (1 æ¬¡éæ­·): ${time2.toFixed(4)} ms\n\n`;
            
            output += `å»ºè­°:\n`;
            output += `âœ“ ç°¡å–®æ“ä½œç”¨ map/filter/find\n`;
            output += `âœ“ è¤‡é›œè½‰æ›è€ƒæ…®ç”¨ reduce\n`;
            output += `âœ“ æ•¸æ“šé‡å¤§æ™‚å„ªåŒ–éæ­·æ¬¡æ•¸`;
            
            document.getElementById('performance-output').textContent = output;
        }
    </script>
</body>
</html>