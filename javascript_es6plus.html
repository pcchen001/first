<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript ES6+ ç¾ä»£èªæ³•ç¤ºç¯„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft JhengHei', 'å¾®è»Ÿæ­£é»‘é«”', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            color: white;
            text-align: center;
            margin-bottom: 10px;
            font-size: 36px;
        }

        .subtitle {
            color: rgba(255, 255, 255, 0.8);
            text-align: center;
            margin-bottom: 40px;
            font-size: 16px;
        }

        section {
            background: white;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        section h2 {
            color: #333;
            margin-bottom: 25px;
            font-size: 24px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        h3 {
            color: #555;
            margin-top: 20px;
            margin-bottom: 15px;
            font-size: 18px;
        }

        /* ==================== æŒ‰éˆ•æ¨£å¼ ==================== */
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            margin-right: 10px;
            margin-bottom: 10px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .btn-success {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }

        .btn-danger {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        /* ==================== æ¼”ç¤ºå®¹å™¨ ==================== */
        .demo-box {
            background: #f0f0f0;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }

        .demo-output {
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin-top: 10px;
            min-height: 50px;
            color: #333;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            max-height: 300px;
            overflow-y: auto;
            white-space: pre-wrap;
            word-break: break-all;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            margin: 15px 0;
            border-left: 4px solid #667eea;
            line-height: 1.5;
        }

        .description {
            background: rgba(102, 126, 234, 0.1);
            border-left: 4px solid #667eea;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            color: #333;
            line-height: 1.6;
            font-size: 14px;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 15px 0;
        }

        .comparison-box {
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
        }

        .comparison-box h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .comparison-box .code-block {
            margin: 10px 0;
            font-size: 12px;
        }

        .feature-list {
            list-style: none;
            padding: 0;
        }

        .feature-list li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            color: #333;
            font-size: 14px;
        }

        .feature-list li:before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: #11998e;
            font-weight: bold;
        }

        .demo-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            margin: 10px 0;
        }

        /* ==================== éŸ¿æ‡‰å¼ ==================== */
        @media (max-width: 768px) {
            h1 {
                font-size: 28px;
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }

            section {
                padding: 20px;
            }
        }

        footer {
            text-align: center;
            color: rgba(255, 255, 255, 0.8);
            padding: 30px 20px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ JavaScript ES6+ ç¾ä»£èªæ³•è©³ç´°ç¤ºç¯„</h1>
        <p class="subtitle">æŒæ¡ç¾ä»£ JavaScript çš„æ ¸å¿ƒç‰¹æ€§</p>

        <!-- ==================== let å’Œ const ==================== -->
        <section>
            <h2>ğŸ“¦ let å’Œ const (è®Šæ•¸å®£å‘Š)</h2>

            <h3>var vs let vs const å°æ¯”</h3>
            <div class="demo-box">
                <button onclick="demoLetConst()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="letconst-output"></div>
            </div>

            <div class="comparison-grid">
                <div class="comparison-box">
                    <h4>âŒ var (èˆŠæ–¹å¼)</h4>
                    <div class="code-block">
var name = "Alice";
var name = "Bob"; // å¯ä»¥é‡æ–°å®£å‘Š
name = "Carol"; // å¯ä»¥é‡æ–°è³¦å€¼
// å‡½æ•¸ä½œç”¨åŸŸ
// æœƒè¢«æå‡ (hoisting)
                    </div>
                </div>
                <div class="comparison-box">
                    <h4>âœ… let (æ¨è–¦)</h4>
                    <div class="code-block">
let age = 25;
// let age = 30; // éŒ¯èª¤ï¼ä¸èƒ½é‡æ–°å®£å‘Š
age = 26; // å¯ä»¥é‡æ–°è³¦å€¼
// å¡Šä½œç”¨åŸŸ {}
// æš«æ™‚æ­»å€ (TDZ)
                    </div>
                </div>
            </div>

            <div class="comparison-grid">
                <div class="comparison-box">
                    <h4>âœ… const (å¸¸æ•¸)</h4>
                    <div class="code-block">
const PI = 3.14159;
// PI = 3.14; // éŒ¯èª¤ï¼ä¸èƒ½é‡æ–°è³¦å€¼
// const PI; // éŒ¯èª¤ï¼å¿…é ˆåˆå§‹åŒ–

// ç‰©ä»¶å¯ä»¥ä¿®æ”¹å±¬æ€§
const obj = { name: "Alice" };
obj.name = "Bob"; // âœ… å¯ä»¥
                    </div>
                </div>
                <div class="comparison-box">
                    <h4>ğŸ“Š å°æ¯”è¡¨</h4>
                    <table style="width: 100%; font-size: 12px; border-collapse: collapse;">
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 5px;"><strong>ç‰¹æ€§</strong></td>
                            <td style="padding: 5px;"><strong>var</strong></td>
                            <td style="padding: 5px;"><strong>let</strong></td>
                            <td style="padding: 5px;"><strong>const</strong></td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd; background: #f9f9f9;">
                            <td style="padding: 5px;">é‡æ–°å®£å‘Š</td>
                            <td style="padding: 5px;">âœ…</td>
                            <td style="padding: 5px;">âŒ</td>
                            <td style="padding: 5px;">âŒ</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 5px;">é‡æ–°è³¦å€¼</td>
                            <td style="padding: 5px;">âœ…</td>
                            <td style="padding: 5px;">âœ…</td>
                            <td style="padding: 5px;">âŒ</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd; background: #f9f9f9;">
                            <td style="padding: 5px;">å¡Šä½œç”¨åŸŸ</td>
                            <td style="padding: 5px;">âŒ</td>
                            <td style="padding: 5px;">âœ…</td>
                            <td style="padding: 5px;">âœ…</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="description">
                <strong>æœ€ä½³å¯¦è¸ï¼š</strong><br>
                â€¢ å„ªå…ˆä½¿ç”¨ <strong>const</strong> - é™¤ééœ€è¦é‡æ–°è³¦å€¼<br>
                â€¢ å…¶æ¬¡ä½¿ç”¨ <strong>let</strong> - æ›¿ä»£ var<br>
                â€¢ é¿å…ä½¿ç”¨ <strong>var</strong> - ä½œç”¨åŸŸå®¹æ˜“æ··äº‚
            </div>
        </section>

        <!-- ==================== æ¨¡æ¿å­—ç¬¦ä¸² ==================== -->
        <section>
            <h2>ğŸ“ æ¨¡æ¿å­—ç¬¦ä¸² (Template Literals)</h2>

            <h3>åŸºæœ¬ç”¨æ³•</h3>
            <div class="demo-box">
                <button onclick="demoTemplateString()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="template-output"></div>
            </div>

            <h3>å¤šè¡Œå­—ç¬¦ä¸²</h3>
            <div class="demo-box">
                <button onclick="demoMultilineString()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="multiline-output"></div>
            </div>

            <div class="code-block">
// âŒ èˆŠæ–¹å¼
const name = "Alice";
const greeting = "Hello, " + name + "!";

// âœ… æ–°æ–¹å¼ - ä½¿ç”¨åå¼•è™Ÿ `
const greeting = `Hello, ${name}!`;

// è¡¨é”å¼
const result = `5 + 3 = ${5 + 3}`;

// å¤šè¡Œå­—ç¬¦ä¸²
const html = `
  &lt;div&gt;
    &lt;h1&gt;æ¨™é¡Œ&lt;/h1&gt;
    &lt;p&gt;å…§å®¹&lt;/p&gt;
  &lt;/div&gt;
`;

// æ¨™ç±¤æ¨¡æ¿
function myTag(strings, ...values) {
    return strings.join('');
}
const result = myTag`Hello ${name}`;
            </div>

            <div class="description">
                <strong>æ¨¡æ¿å­—ç¬¦ä¸²çš„å„ªé»ï¼š</strong><br>
                â€¢ æ”¯æŒå…§åµŒè¡¨é”å¼ ${}<br>
                â€¢ æ”¯æŒå¤šè¡Œå­—ç¬¦ä¸²<br>
                â€¢ æé«˜ä»£ç¢¼å¯è®€æ€§<br>
                â€¢ æ”¯æŒæ¨™ç±¤æ¨¡æ¿å‡½æ•¸
            </div>
        </section>

        <!-- ==================== ç®­é ­å‡½æ•¸ ==================== -->
        <section>
            <h2>ğŸ¯ ç®­é ­å‡½æ•¸ (Arrow Functions)</h2>

            <h3>åŸºæœ¬èªæ³•å°æ¯”</h3>
            <div class="demo-box">
                <button onclick="demoArrowFunction()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="arrow-output"></div>
            </div>

            <div class="comparison-grid">
                <div class="comparison-box">
                    <h4>âŒ æ™®é€šå‡½æ•¸</h4>
                    <div class="code-block">
function add(a, b) {
    return a + b;
}

const greet = function(name) {
    return `Hello, ${name}!`;
};
                    </div>
                </div>
                <div class="comparison-box">
                    <h4>âœ… ç®­é ­å‡½æ•¸</h4>
                    <div class="code-block">
const add = (a, b) => {
    return a + b;
};

// å–®è¡Œå¯çœç•¥å¤§æ‹¬è™Ÿå’Œreturn
const add = (a, b) => a + b;

// å–®å€‹åƒæ•¸çœç•¥æ‹¬è™Ÿ
const square = x => x * x;

// ç„¡åƒæ•¸ä¿ç•™æ‹¬è™Ÿ
const getRandom = () => Math.random();
                    </div>
                </div>
            </div>

            <h3>this ç¶å®šå·®ç•°</h3>
            <div class="demo-box">
                <button onclick="demoThisBinding()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="this-output"></div>
            </div>

            <div class="code-block">
// æ™®é€šå‡½æ•¸ - this å‹•æ…‹ç¶å®š
const obj1 = {
    name: "Alice",
    greet: function() {
        console.log(this.name); // this æŒ‡å‘ obj1
    }
};

// ç®­é ­å‡½æ•¸ - this éœæ…‹ç¶å®š (ç¹¼æ‰¿å¤–å±¤ this)
const obj2 = {
    name: "Bob",
    greet: () => {
        console.log(this); // this æŒ‡å‘å…¨å±€å°è±¡æˆ– undefined
    }
};

// å›èª¿ä¸­çš„ this
const btn = document.getElementById('btn');
btn.addEventListener('click', function() {
    console.log(this); // this æŒ‡å‘ btn å…ƒç´ 
});

btn.addEventListener('click', () => {
    console.log(this); // this æŒ‡å‘å¤–å±¤ä½œç”¨åŸŸ
});
            </div>

            <div class="description">
                <strong>ç®­é ­å‡½æ•¸æ³¨æ„äº‹é …ï¼š</strong><br>
                â€¢ <strong>ç„¡ this ç¶å®š</strong> - ä½¿ç”¨å¤–å±¤ä½œç”¨åŸŸçš„ this<br>
                â€¢ <strong>ä¸èƒ½ç”¨ä½œæ§‹é€ å‡½æ•¸</strong> - ç„¡ new æ“ä½œ<br>
                â€¢ <strong>ç„¡ arguments å°è±¡</strong> - ä½¿ç”¨å‰©é¤˜åƒæ•¸ä»£æ›¿<br>
                â€¢ <strong>ä¸èƒ½ç”¨ä½œç”Ÿæˆå™¨å‡½æ•¸</strong>
            </div>
        </section>

        <!-- ==================== è§£æ§‹è³¦å€¼ ==================== -->
        <section>
            <h2>ğŸ è§£æ§‹è³¦å€¼ (Destructuring)</h2>

            <h3>æ•¸çµ„è§£æ§‹</h3>
            <div class="demo-box">
                <button onclick="demoArrayDestructuring()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="array-destruct-output"></div>
            </div>

            <div class="code-block">
// âŒ èˆŠæ–¹å¼
const arr = [1, 2, 3];
const first = arr[0];
const second = arr[1];

// âœ… æ–°æ–¹å¼
const [first, second, third] = [1, 2, 3];

// è·³éå…ƒç´ 
const [a, , c] = [1, 2, 3];

// ä½¿ç”¨å‰©é¤˜é‹ç®—ç¬¦
const [head, ...rest] = [1, 2, 3, 4, 5];
// head = 1, rest = [2, 3, 4, 5]

// äº¤æ›è®Šæ•¸
let x = 10, y = 20;
[x, y] = [y, x]; // x = 20, y = 10
            </div>

            <h3>ç‰©ä»¶è§£æ§‹</h3>
            <div class="demo-box">
                <button onclick="demoObjectDestructuring()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="object-destruct-output"></div>
            </div>

            <div class="code-block">
// âŒ èˆŠæ–¹å¼
const person = { name: "Alice", age: 25 };
const name = person.name;
const age = person.age;

// âœ… æ–°æ–¹å¼
const { name, age } = { name: "Alice", age: 25 };

// é‡å‘½å
const { name: personName, age: personAge } = person;

// è¨­ç½®é»˜èªå€¼
const { name = "Unknown", city = "NYC" } = person;

// åµŒå¥—è§£æ§‹
const { address: { street, city } } = person;

// åœ¨å‡½æ•¸åƒæ•¸ä¸­ä½¿ç”¨
function printPerson({ name, age }) {
    console.log(`${name} is ${age} years old`);
}
            </div>

            <div class="description">
                <strong>è§£æ§‹çš„å„ªé»ï¼š</strong><br>
                â€¢ ä»£ç¢¼æ›´ç°¡æ½”<br>
                â€¢ æ˜“æ–¼æå–éœ€è¦çš„å€¼<br>
                â€¢ æ”¯æŒé»˜èªå€¼<br>
                â€¢ æ”¯æŒé‡å‘½åå’ŒåµŒå¥—
            </div>
        </section>

        <!-- ==================== æ“´å±•é‹ç®—ç¬¦ ==================== -->
        <section>
            <h2>ğŸ“¤ æ“´å±•é‹ç®—ç¬¦ (Spread Operator)</h2>

            <h3>æ•¸çµ„æ“´å±•</h3>
            <div class="demo-box">
                <button onclick="demoSpreadArray()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="spread-array-output"></div>
            </div>

            <div class="code-block">
// è¤‡è£½æ•¸çµ„
const arr1 = [1, 2, 3];
const arr2 = [...arr1]; // [1, 2, 3]

// åˆä½µæ•¸çµ„
const arr3 = [1, 2];
const arr4 = [3, 4];
const combined = [...arr3, ...arr4]; // [1, 2, 3, 4]

// æ·»åŠ å…ƒç´ 
const newArr = [0, ...arr1, 4]; // [0, 1, 2, 3, 4]

// è½‰æ›é¡æ•¸çµ„å°è±¡
const str = "Hello";
const chars = [...str]; // ['H', 'e', 'l', 'l', 'o']
            </div>

            <h3>ç‰©ä»¶æ“´å±•</h3>
            <div class="demo-box">
                <button onclick="demoSpreadObject()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="spread-object-output"></div>
            </div>

            <div class="code-block">
// è¤‡è£½ç‰©ä»¶
const obj1 = { a: 1, b: 2 };
const obj2 = { ...obj1 }; // { a: 1, b: 2 }

// åˆä½µç‰©ä»¶
const obj3 = { c: 3 };
const merged = { ...obj1, ...obj3 }; // { a: 1, b: 2, c: 3 }

// è¦†è“‹å±¬æ€§
const updated = { ...obj1, b: 99 }; // { a: 1, b: 99 }

// åœ¨å‡½æ•¸åƒæ•¸ä¸­ä½¿ç”¨
function sum(a, b, c) {
    return a + b + c;
}
const numbers = [1, 2, 3];
sum(...numbers); // sum(1, 2, 3)
            </div>

            <div class="description">
                <strong>æ“´å±•é‹ç®—ç¬¦çš„ç”¨é€”ï¼š</strong><br>
                â€¢ è¤‡è£½æ•¸çµ„å’Œç‰©ä»¶ï¼ˆæ·ºæ‹·è²ï¼‰<br>
                â€¢ åˆä½µæ•¸çµ„å’Œç‰©ä»¶<br>
                â€¢ åœ¨å‡½æ•¸ä¸­å±•é–‹åƒæ•¸<br>
                â€¢ è½‰æ›é¡æ•¸çµ„å°è±¡
            </div>
        </section>

        <!-- ==================== é»˜èªåƒæ•¸ ==================== -->
        <section>
            <h2>âš™ï¸ é»˜èªåƒæ•¸ (Default Parameters)</h2>

            <h3>åŸºæœ¬ç”¨æ³•</h3>
            <div class="demo-box">
                <button onclick="demoDefaultParams()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="default-params-output"></div>
            </div>

            <div class="comparison-grid">
                <div class="comparison-box">
                    <h4>âŒ èˆŠæ–¹å¼</h4>
                    <div class="code-block">
function greet(name) {
    if (!name) {
        name = "Guest";
    }
    return `Hello, ${name}`;
}

function greet2(name) {
    name = name || "Guest";
}
                    </div>
                </div>
                <div class="comparison-box">
                    <h4>âœ… æ–°æ–¹å¼</h4>
                    <div class="code-block">
function greet(name = "Guest") {
    return `Hello, ${name}`;
}

// æ”¯æŒè¡¨é”å¼
function createId(prefix = "ID_") {
    return prefix + Date.now();
}

// ä½¿ç”¨å‰é¢çš„åƒæ•¸
function repeat(str, times = 1) {
    return str.repeat(times);
}
                    </div>
                </div>
            </div>

            <div class="code-block">
// æŠ€å·§ï¼šæª¢æ¸¬æ˜¯å¦å‚³å…¥åƒæ•¸
function test(x = undefined) {
    if (x === undefined) {
        console.log('æœªå‚³å…¥åƒæ•¸');
    }
}

// å¼·åˆ¶è¦æ±‚åƒæ•¸
function required(paramName = undefined) {
    if (paramName === undefined) {
        throw new Error(`åƒæ•¸ ${paramName} ç‚ºå¿…å¡«é …`);
    }
}

function doSomething(requiredParam = required('requiredParam')) {
    console.log(requiredParam);
}
            </div>
        </section>

        <!-- ==================== å‰©é¤˜åƒæ•¸ ==================== -->
        <section>
            <h2>ğŸ“¦ å‰©é¤˜åƒæ•¸ (Rest Parameters)</h2>

            <h3>åŸºæœ¬ç”¨æ³•</h3>
            <div class="demo-box">
                <button onclick="demoRestParams()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="rest-params-output"></div>
            </div>

            <div class="code-block">
// âŒ èˆŠæ–¹å¼ - ä½¿ç”¨ arguments
function sum() {
    let total = 0;
    for (let i = 0; i < arguments.length; i++) {
        total += arguments[i];
    }
    return total;
}

// âœ… æ–°æ–¹å¼ - ä½¿ç”¨å‰©é¤˜åƒæ•¸
function sum(...numbers) {
    return numbers.reduce((a, b) => a + b, 0);
}

// çµåˆå…¶ä»–åƒæ•¸
function greetMany(greeting, ...names) {
    return greeting + " " + names.join(", ");
}
greetMany("Hello", "Alice", "Bob", "Carol");

// åœ¨ç®­é ­å‡½æ•¸ä¸­
const multiply = (...nums) => nums.reduce((a, b) => a * b, 1);
            </div>

            <div class="description">
                <strong>å‰©é¤˜åƒæ•¸çš„å„ªé»ï¼š</strong><br>
                â€¢ æ¯” arguments æ›´ç›´è§€<br>
                â€¢ çµæœæ˜¯çœŸå¯¦çš„æ•¸çµ„<br>
                â€¢ æ”¯æŒç®­é ­å‡½æ•¸<br>
                â€¢ æ˜“æ–¼è§£æ§‹ä½¿ç”¨
            </div>
        </section>

        <!-- ==================== å°è±¡å­—é¢é‡å¢å¼· ==================== -->
        <section>
            <h2>ğŸ  å°è±¡å­—é¢é‡å¢å¼· (Enhanced Object Literals)</h2>

            <h3>å±¬æ€§ç°¡å¯«å’Œæ–¹æ³•ç°¡å¯«</h3>
            <div class="demo-box">
                <button onclick="demoObjectLiteral()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="object-literal-output"></div>
            </div>

            <div class="code-block">
const name = "Alice";
const age = 25;

// âŒ èˆŠæ–¹å¼
const person1 = {
    name: name,
    age: age,
    greet: function() {
        return `Hello, I'm ${this.name}`;
    }
};

// âœ… æ–°æ–¹å¼
const person2 = {
    name,  // å±¬æ€§ç°¡å¯«
    age,
    greet() {  // æ–¹æ³•ç°¡å¯«
        return `Hello, I'm ${this.name}`;
    },
    // è¨ˆç®—å±¬æ€§å
    [name + "Key"]: "value",
    // getter å’Œ setter
    get fullInfo() {
        return `${this.name}, ${this.age}`;
    },
    set fullInfo(value) {
        [this.name, this.age] = value.split(", ");
    }
};
            </div>

            <div class="code-block">
// è¨ˆç®—å±¬æ€§åæ‡‰ç”¨
const prefix = "user_";
const obj = {
    [prefix + "id"]: 1,
    [prefix + "name"]: "Alice",
    [prefix + "email"]: "alice@example.com"
};
// { user_id: 1, user_name: "Alice", user_email: "alice@example.com" }

// Getter å’Œ Setter
const person = {
    _name: "Alice",
    get name() {
        return this._name.toUpperCase();
    },
    set name(value) {
        this._name = value;
    }
};
console.log(person.name); // ALICE
person.name = "Bob"; // ä½¿ç”¨ setter
            </div>
        </section>

        <!-- ==================== é¡ (Classes) ==================== -->
        <section>
            <h2>ğŸ›ï¸ é¡ (Classes)</h2>

            <h3>åŸºæœ¬é¡çš„å®šç¾©</h3>
            <div class="demo-box">
                <button onclick="demoClass()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="class-output"></div>
            </div>

            <div class="code-block">
// âœ… é¡èªæ³•
class Animal {
    constructor(name) {
        this.name = name;
    }

    speak() {
        return `${this.name} makes a sound`;
    }

    static info() {
        return "This is an Animal class";
    }
}

// ç¹¼æ‰¿
class Dog extends Animal {
    constructor(name, breed) {
        super(name); // å‘¼å«çˆ¶é¡æ§‹é€ å‡½æ•¸
        this.breed = breed;
    }

    speak() {
        return `${this.name} barks`;
    }

    // Getter
    get description() {
        return `${this.name} is a ${this.breed}`;
    }

    // Setter
    set breed(value) {
        this._breed = value.toUpperCase();
    }

    get breed() {
        return this._breed;
    }
}

const dog = new Dog("Max", "Golden Retriever");
console.log(dog.speak()); // Max barks
console.log(dog.description); // Max is a GOLDEN RETRIEVER
            </div>

            <h3>ç§æœ‰å­—æ®µ</h3>
            <div class="demo-box">
                <button onclick="demoPrivateFields()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="private-fields-output"></div>
            </div>

            <div class="code-block">
class BankAccount {
    #balance = 0; // ç§æœ‰å­—æ®µ

    constructor(initialBalance) {
        this.#balance = initialBalance;
    }

    deposit(amount) {
        this.#balance += amount;
    }

    #calculateFee() { // ç§æœ‰æ–¹æ³•
        return this.#balance * 0.01;
    }

    getBalance() {
        return this.#balance; // å¯ä»¥è®€å–ç§æœ‰å­—æ®µ
    }
}

const account = new BankAccount(1000);
account.deposit(500);
console.log(account.getBalance()); // 1500
// account.#balance; // âŒ éŒ¯èª¤ï¼ç„¡æ³•è¨ªå•ç§æœ‰å­—æ®µ
            </div>

            <div class="description">
                <strong>é¡çš„å„ªé»ï¼š</strong><br>
                â€¢ èªæ³•æ›´æ¸…æ™°<br>
                â€¢ æ”¯æŒç¹¼æ‰¿å’Œ super<br>
                â€¢ æ”¯æŒéœæ…‹æ–¹æ³•<br>
                â€¢ æ”¯æŒ getter/setter<br>
                â€¢ æ”¯æŒç§æœ‰å­—æ®µ #
            </div>
        </section>

        <!-- ==================== Promise å’Œ async/await ==================== -->
        <section>
            <h2>â³ Promise å’Œ Async/Await</h2>

            <h3>Promise åŸºæœ¬ç”¨æ³•</h3>
            <div class="demo-box">
                <button onclick="demoPromise()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="promise-output"></div>
            </div>

            <div class="code-block">
// å»ºç«‹ Promise
const promise = new Promise((resolve, reject) => {
    setTimeout(() => {
        resolve("æˆåŠŸï¼");
    }, 2000);
});

// ä½¿ç”¨ Promise
promise
    .then(result => console.log(result))
    .catch(error => console.error(error))
    .finally(() => console.log("å®Œæˆ"));

// Promise.all - ç­‰å¾…æ‰€æœ‰ Promise å®Œæˆ
Promise.all([promise1, promise2, promise3])
    .then(results => console.log("å…¨éƒ¨å®Œæˆ", results));

// Promise.race - ç­‰å¾…ç¬¬ä¸€å€‹ Promise å®Œæˆ
Promise.race([promise1, promise2])
    .then(result => console.log("ç¬¬ä¸€å€‹å®Œæˆ", result));
            </div>

            <h3>Async/Await (æ¨è–¦)</h3>
            <div class="demo-box">
                <button onclick="demoAsyncAwait()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="async-await-output"></div>
            </div>

            <div class="code-block">
// âœ… ç¾ä»£æ–¹å¼ - async/await
async function fetchData() {
    try {
        const response = await fetch('https://api.example.com/data');
        const data = await response.json();
        return data;
    } catch (error) {
        console.error("ç²å–å¤±æ•—:", error);
    } finally {
        console.log("è«‹æ±‚å®Œæˆ");
    }
}

// ä½¿ç”¨
const result = await fetchData();

// ä¸¦è¡ŒåŸ·è¡Œå¤šå€‹ async æ“ä½œ
async function getMultipleData() {
    const [data1, data2, data3] = await Promise.all([
        fetch('/api/data1').then(r => r.json()),
        fetch('/api/data2').then(r => r.json()),
        fetch('/api/data3').then(r => r.json())
    ]);
    return { data1, data2, data3 };
}
            </div>

            <div class="description">
                <strong>Async/Await çš„å„ªé»ï¼š</strong><br>
                â€¢ ä»£ç¢¼çœ‹èµ·ä¾†åŒæ­¥ï¼Œæ˜“æ–¼ç†è§£<br>
                â€¢ æ›´å¥½çš„éŒ¯èª¤è™•ç†<br>
                â€¢ æ”¯æŒ try/catch<br>
                â€¢ é¿å…å›èª¿åœ°ç„ï¼ˆCallback Hellï¼‰
            </div>
        </section>

        <!-- ==================== æ¨¡çµ„åŒ– ==================== -->
        <section>
            <h2>ğŸ“š æ¨¡çµ„åŒ– (ES6 Modules)</h2>

            <h3>å°å‡ºå’Œå°å…¥</h3>
            <div class="demo-box">
                <button onclick="demoModules()">æŸ¥çœ‹ç¯„ä¾‹</button>
                <div class="demo-output" id="modules-output"></div>
            </div>

            <div class="comparison-grid">
                <div class="comparison-box">
                    <h4>math.js (å°å‡º)</h4>
                    <div class="code-block">
// å‘½åå°å‡º
export const add = (a, b) => a + b;
export const subtract = (a, b) => a - b;

export function multiply(a, b) {
    return a * b;
}

// é»˜èªå°å‡º (æ¯å€‹æ¨¡çµ„åªèƒ½ä¸€å€‹)
export default class Calculator {
    constructor() {}
}
                    </div>
                </div>
                <div class="comparison-box">
                    <h4>main.js (å°å…¥)</h4>
                    <div class="code-block">
// å°å…¥å‘½åå°å‡º
import { add, subtract } from './math.js';

// å°å…¥æ‰€æœ‰
import * as Math from './math.js';

// å°å…¥é»˜èªå°å‡º
import Calculator from './math.js';

// æ··åˆå°å…¥
import Calculator, { add } from './math.js';

// é‡å‘½å
import { add as addition } from './math.js';
                    </div>
                </div>
            </div>

            <div class="code-block">
// HTML ä¸­ä½¿ç”¨
&lt;script type="module"&gt;
    import { add } from './math.js';
    console.log(add(5, 3)); // 8
&lt;/script&gt;
            </div>

            <div class="description">
                <strong>æ¨¡çµ„åŒ–çš„å„ªé»ï¼š</strong><br>
                â€¢ ä»£ç¢¼çµ„ç¹”æ¸…æ™°<br>
                â€¢ é¿å…å…¨å±€æ±¡æŸ“<br>
                â€¢ æ˜“æ–¼ç¶­è­·å’Œæ¸¬è©¦<br>
                â€¢ æ”¯æŒå‹•æ…‹å°å…¥
            </div>
        </section>

        <!-- ==================== é€²éšç‰¹æ€§ ==================== -->
        <section>
            <h2>ğŸŒŸ é€²éšç‰¹æ€§</h2>

            <h3>å¯é¸éˆ (Optional Chaining) ?.</h3>
            <div class="demo-box">
                <button onclick="demoOptionalChaining()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="optional-chaining-output"></div>
            </div>

            <div class="code-block">
// âŒ èˆŠæ–¹å¼
if (user && user.address && user.address.city) {
    console.log(user.address.city);
}

// âœ… æ–°æ–¹å¼
console.log(user?.address?.city); // å¦‚æœä»»ä½•ä¸€å€‹ç‚º null/undefinedï¼Œè¿”å› undefined

// æ–¹æ³•èª¿ç”¨
user?.sayHello?.(); // å¦‚æœæ–¹æ³•å­˜åœ¨æ‰èª¿ç”¨

// æ•¸çµ„ä¸‹æ¨™
arr?.[0]; // å®‰å…¨åœ°è¨ªå•æ•¸çµ„å…ƒç´ 
            </div>

            <h3>ç©ºå€¼åˆä½µ (Nullish Coalescing) ??</h3>
            <div class="demo-box">
                <button onclick="demoNullishCoalescing()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="nullish-coalescing-output"></div>
            </div>

            <div class="code-block">
// âŒ || æœƒå°‡ false, 0, "" ä¹Ÿè¦–ç‚ºå‡
const config = {
    timeout: 0,
    retries: false
};
const timeout = config.timeout || 5000; // 5000 (ä¸å°ï¼)

// âœ… ?? åªæŠŠ null å’Œ undefined è¦–ç‚ºç„¡æ•ˆ
const timeout = config.timeout ?? 5000; // 0 (æ­£ç¢º)
const retries = config.retries ?? 3; // false (æ­£ç¢º)
            </div>

            <h3>é‚è¼¯è³¦å€¼é‹ç®—ç¬¦</h3>
            <div class="demo-box">
                <button onclick="demoLogicalAssignment()">åŸ·è¡Œç¤ºç¯„</button>
                <div class="demo-output" id="logical-assignment-output"></div>
            </div>

            <div class="code-block">
// &&= (é‚è¼¯ AND è³¦å€¼)
let a = 5;
a &&= 10; // å¦‚æœ a ç‚ºçœŸï¼Œæ‰è³¦å€¼ç‚º 10

// ||= (é‚è¼¯ OR è³¦å€¼)
let b;
b ||= 20; // å¦‚æœ b ç‚ºå‡ï¼Œæ‰è³¦å€¼ç‚º 20

// ??= (ç©ºå€¼åˆä½µè³¦å€¼)
let c;
c ??= 30; // å¦‚æœ c ç‚º null/undefinedï¼Œæ‰è³¦å€¼ç‚º 30
            </div>
        </section>

        <!-- ==================== å¯¦è¸ç¯„ä¾‹ ==================== -->
        <section>
            <h2>ğŸ’» å¯¦è¸ç¯„ä¾‹ï¼šå¾…è¾¦äº‹é …æ‡‰ç”¨</h2>

            <div class="demo-box">
                <input type="text" class="demo-input" id="todo-input" placeholder="è¼¸å…¥æ–°ä»»å‹™...">
                <button onclick="addNewTodo()" class="btn-success">æ·»åŠ </button>
                <ul id="todo-list" style="list-style: none; padding: 0; margin-top: 15px;"></ul>
                <div class="demo-output" id="todo-output"></div>
            </div>

            <div class="code-block">
// ä½¿ç”¨ ES6+ ç‰¹æ€§æ§‹å»ºçš„æ‡‰ç”¨
class TodoApp {
    constructor() {
        this.todos = [];
        this.nextId = 1;
    }

    addTodo(text) {
        const todo = {
            id: this.nextId++,
            text,
            completed: false,
            createdAt: new Date()
        };
        this.todos.push(todo);
        this.render();
    }

    removeTodo(id) {
        this.todos = this.todos.filter(t => t.id !== id);
        this.render();
    }

    toggleTodo(id) {
        const todo = this.todos.find(t => t.id === id);
        if (todo) {
            todo.completed = !todo.completed;
            this.render();
        }
    }

    render() {
        const list = document.getElementById('todo-list');
        list.innerHTML = this.todos
            .map(({ id, text, completed }) => `
                &lt;li style="padding: 10px; background: #f5f5f5; margin: 5px 0; border-radius: 5px; display: flex; justify-content: space-between; align-items: center;"&gt;
                    &lt;input type="checkbox" ${completed ? 'checked' : ''} onchange="app.toggleTodo(${id})" style="margin-right: 10px;"&gt;
                    &lt;span style="text-decoration: ${completed ? 'line-through' : 'none'};"&gt;${text}&lt;/span&gt;
                    &lt;button onclick="app.removeTodo(${id})" style="padding: 5px 10px; background: #f5576c; color: white; border: none; border-radius: 3px; cursor: pointer;"&gt;åˆªé™¤&lt;/button&gt;
                &lt;/li&gt;
            `)
            .join('');
    }
}

const app = new TodoApp();
            </div>
        </section>
    </div>

    <footer>
        <p>JavaScript ES6+ å­¸ç¿’æ•™ç¨‹ | 2026</p>
        <p>æŒæ¡ç¾ä»£ JavaScriptï¼Œæˆç‚ºæ›´å„ªç§€çš„é–‹ç™¼è€… âœ¨</p>
    </footer>

    <script>
        // ==================== let å’Œ const ====================
        function demoLetConst() {
            let output = "let å’Œ const æ¼”ç¤º\n";
            output += "==================\n\n";

            // å¡Šä½œç”¨åŸŸ
            {
                let x = 10;
                const y = 20;
                output += "å¡Šä½œç”¨åŸŸå…§:\n";
                output += `x = ${x}, y = ${y}\n`;
            }
            // console.log(x); // ReferenceError
            output += "å¡Šå¤–ç„¡æ³•è¨ªå• x å’Œ y (å¡Šä½œç”¨åŸŸ)\n\n";

            // const çš„éˆæ´»æ€§
            const obj = { name: "Alice" };
            obj.name = "Bob"; // å¯ä»¥ä¿®æ”¹å±¬æ€§
            output += `const obj.name = "${obj.name}" (å¯ä»¥ä¿®æ”¹å±¬æ€§)\n`;
            // obj = {}; // TypeError: ä¸èƒ½é‡æ–°è³¦å€¼

            output += "\næœ€ä½³å¯¦è¸:\n";
            output += "âœ“ å„ªå…ˆä½¿ç”¨ const\n";
            output += "âœ“ éœ€è¦é‡æ–°è³¦å€¼æ™‚ç”¨ let\n";
            output += "âœ— é¿å…ä½¿ç”¨ var";

            document.getElementById('letconst-output').textContent = output;
        }

        // ==================== æ¨¡æ¿å­—ç¬¦ä¸² ====================
        function demoTemplateString() {
            const name = "Alice";
            const age = 25;
            
            let output = "æ¨¡æ¿å­—ç¬¦ä¸²æ¼”ç¤º\n";
            output += "==================\n\n";
            
            output += `Hello, ${name}!\n`;
            output += `Age: ${age}\n`;
            output += `Next year: ${age + 1}\n`;
            output += `Expression: ${5 + 3} = 8\n`;
            
            document.getElementById('template-output').textContent = output;
        }

        function demoMultilineString() {
            let output = "å¤šè¡Œå­—ç¬¦ä¸²æ¼”ç¤º\n";
            output += "==================\n\n";
            
            const html = `
            <div>
                <h1>æ¨™é¡Œ</h1>
                <p>é€™æ˜¯å¤šè¡Œå­—ç¬¦ä¸²</p>
            </div>
            `;
            
            output += "HTML:\n" + html;
            document.getElementById('multiline-output').textContent = output;
        }

        // ==================== ç®­é ­å‡½æ•¸ ====================
        function demoArrowFunction() {
            let output = "ç®­é ­å‡½æ•¸æ¼”ç¤º\n";
            output += "==================\n\n";

            // åŸºæœ¬ç®­é ­å‡½æ•¸
            const add = (a, b) => a + b;
            output += `add(5, 3) = ${add(5, 3)}\n`;

            // å–®å€‹åƒæ•¸
            const square = x => x * x;
            output += `square(4) = ${square(4)}\n`;

            // ç„¡åƒæ•¸
            const getRandom = () => Math.floor(Math.random() * 100);
            output += `getRandom() = ${getRandom()}\n`;

            // å¤šè¡Œç®­é ­å‡½æ•¸
            const multiply = (a, b) => {
                const result = a * b;
                return result;
            };
            output += `multiply(3, 4) = ${multiply(3, 4)}\n`;

            document.getElementById('arrow-output').textContent = output;
        }

        function demoThisBinding() {
            let output = "this ç¶å®šæ¼”ç¤º\n";
            output += "==================\n\n";

            const person = {
                name: "Alice",
                greet: function() {
                    return `æ™®é€šå‡½æ•¸: Hello, ${this.name}`;
                },
                greetArrow: () => {
                    return `ç®­é ­å‡½æ•¸: this ç„¡æ³•ç¶å®š`;
                }
            };

            output += person.greet() + "\n";
            output += person.greetArrow() + "\n\n";
            output += "æ³¨æ„: ç®­é ­å‡½æ•¸çš„ this ç¹¼æ‰¿å¤–å±¤ä½œç”¨åŸŸ";

            document.getElementById('this-output').textContent = output;
        }

        // ==================== è§£æ§‹è³¦å€¼ ====================
        function demoArrayDestructuring() {
            let output = "æ•¸çµ„è§£æ§‹æ¼”ç¤º\n";
            output += "==================\n\n";

            const [first, second, third] = [1, 2, 3];
            output += `[first, second, third] = [1, 2, 3]\n`;
            output += `first = ${first}, second = ${second}, third = ${third}\n\n`;

            const [a, , c] = [10, 20, 30];
            output += `[a, , c] = [10, 20, 30] (è·³éä¸­é–“)\n`;
            output += `a = ${a}, c = ${c}\n\n`;

            const [head, ...rest] = [1, 2, 3, 4, 5];
            output += `[head, ...rest] = [1, 2, 3, 4, 5]\n`;
            output += `head = ${head}, rest = [${rest.join(', ')}]`;

            document.getElementById('array-destruct-output').textContent = output;
        }

        function demoObjectDestructuring() {
            let output = "ç‰©ä»¶è§£æ§‹æ¼”ç¤º\n";
            output += "==================\n\n";

            const person = { name: "Alice", age: 25, city: "NYC" };
            const { name, age } = person;
            output += `const { name, age } = person\n`;
            output += `name = "${name}", age = ${age}\n\n`;

            const { name: personName, city = "Unknown" } = person;
            output += `const { name: personName, city = "Unknown" } = person\n`;
            output += `personName = "${personName}", city = "${city}"`;

            document.getElementById('object-destruct-output').textContent = output;
        }

        // ==================== æ“´å±•é‹ç®—ç¬¦ ====================
        function demoSpreadArray() {
            let output = "æ•¸çµ„æ“´å±•é‹ç®—ç¬¦æ¼”ç¤º\n";
            output += "==================\n\n";

            const arr1 = [1, 2, 3];
            const arr2 = [...arr1];
            output += `const arr1 = [1, 2, 3];\n`;
            output += `const arr2 = [...arr1]; // [${arr2.join(', ')}]\n\n`;

            const combined = [...arr1, 4, 5];
            output += `const combined = [...arr1, 4, 5];\n`;
            output += `combined = [${combined.join(', ')}]\n\n`;

            const merged = [...[1, 2], ...[3, 4]];
            output += `const merged = [...[1, 2], ...[3, 4]];\n`;
            output += `merged = [${merged.join(', ')}]`;

            document.getElementById('spread-array-output').textContent = output;
        }

        function demoSpreadObject() {
            let output = "ç‰©ä»¶æ“´å±•é‹ç®—ç¬¦æ¼”ç¤º\n";
            output += "==================\n\n";

            const obj1 = { a: 1, b: 2 };
            const obj2 = { ...obj1 };
            output += `const obj1 = { a: 1, b: 2 };\n`;
            output += `const obj2 = { ...obj1 }; // { a: ${obj2.a}, b: ${obj2.b} }\n\n`;

            const merged = { ...obj1, c: 3 };
            output += `const merged = { ...obj1, c: 3 };\n`;
            output += `merged = { a: ${merged.a}, b: ${merged.b}, c: ${merged.c} }\n\n`;

            const updated = { ...obj1, a: 99 };
            output += `const updated = { ...obj1, a: 99 };\n`;
            output += `updated = { a: ${updated.a}, b: ${updated.b} }`;

            document.getElementById('spread-object-output').textContent = output;
        }

        // ==================== é»˜èªåƒæ•¸ ====================
        function demoDefaultParams() {
            let output = "é»˜èªåƒæ•¸æ¼”ç¤º\n";
            output += "==================\n\n";

            const greet = (name = "Guest") => `Hello, ${name}!`;
            output += `const greet = (name = "Guest") => \`Hello, \${name}!\`\n\n`;
            output += `greet() = "${greet()}"\n`;
            output += `greet("Alice") = "${greet("Alice")}"\n\n`;

            const createId = (prefix = "ID_") => prefix + Date.now();
            output += `const createId = (prefix = "ID_") => prefix + Date.now()\n`;
            output += `createId() = "${createId()}"\n`;
            output += `createId("USER_") = "${createId("USER_")}"`;

            document.getElementById('default-params-output').textContent = output;
        }

        // ==================== å‰©é¤˜åƒæ•¸ ====================
        function demoRestParams() {
            let output = "å‰©é¤˜åƒæ•¸æ¼”ç¤º\n";
            output += "==================\n\n";

            const sum = (...numbers) => numbers.reduce((a, b) => a + b, 0);
            output += `const sum = (...numbers) => numbers.reduce((a, b) => a + b, 0)\n\n`;
            output += `sum(1, 2, 3, 4, 5) = ${sum(1, 2, 3, 4, 5)}\n\n`;

            const greetMany = (greeting, ...names) => greeting + " " + names.join(", ");
            output += `const greetMany = (greeting, ...names) => greeting + " " + names.join(", ")\n`;
            output += `greetMany("Hello", "Alice", "Bob") = "${greetMany("Hello", "Alice", "Bob")}"`;

            document.getElementById('rest-params-output').textContent = output;
        }

        // ==================== å°è±¡å­—é¢é‡å¢å¼· ====================
        function demoObjectLiteral() {
            let output = "å°è±¡å­—é¢é‡å¢å¼·æ¼”ç¤º\n";
            output += "==================\n\n";

            const name = "Alice";
            const age = 25;

            const person = {
                name,
                age,
                greet() {
                    return `Hello, I'm ${this.name}`;
                }
            };

            output += `const person = {\n`;
            output += `    name,\n`;
            output += `    age,\n`;
            output += `    greet() { ... }\n`;
            output += `}\n\n`;
            output += `person.name = "${person.name}"\n`;
            output += `person.age = ${person.age}\n`;
            output += `person.greet() = "${person.greet()}"`;

            document.getElementById('object-literal-output').textContent = output;
        }

        // ==================== é¡ ====================
        function demoClass() {
            let output = "é¡æ¼”ç¤º\n";
            output += "==================\n\n";

            class Animal {
                constructor(name) {
                    this.name = name;
                }
                speak() {
                    return `${this.name} makes a sound`;
                }
            }

            class Dog extends Animal {
                constructor(name, breed) {
                    super(name);
                    this.breed = breed;
                }
                speak() {
                    return `${this.name} barks`;
                }
            }

            const dog = new Dog("Max", "Golden Retriever");
            output += `class Dog extends Animal { ... }\n`;
            output += `const dog = new Dog("Max", "Golden Retriever")\n\n`;
            output += `dog.name = "${dog.name}"\n`;
            output += `dog.breed = "${dog.breed}"\n`;
            output += `dog.speak() = "${dog.speak()}"`;

            document.getElementById('class-output').textContent = output;
        }

        function demoPrivateFields() {
            let output = "ç§æœ‰å­—æ®µæ¼”ç¤º\n";
            output += "==================\n\n";

            class BankAccount {
                #balance = 0;

                constructor(initialBalance) {
                    this.#balance = initialBalance;
                }

                deposit(amount) {
                    this.#balance += amount;
                }

                getBalance() {
                    return this.#balance;
                }
            }

            const account = new BankAccount(1000);
            account.deposit(500);
            
            output += `class BankAccount {\n`;
            output += `    #balance = 0; // ç§æœ‰å­—æ®µ\n`;
            output += `}\n\n`;
            output += `account.getBalance() = ${account.getBalance()}\n\n`;
            output += `æ³¨æ„: ç„¡æ³•ç›´æ¥è¨ªå• account.#balance`;

            document.getElementById('private-fields-output').textContent = output;
        }

        // ==================== Promise å’Œ Async/Await ====================
        function demoPromise() {
            let output = "Promise æ¼”ç¤º\n";
            output += "==================\n\n";

            output += "å»ºç«‹ Promise\n";
            const promise = new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve("å®Œæˆï¼");
                }, 1000);
            });

            promise.then(result => {
                output += `çµæœ: ${result}`;
                document.getElementById('promise-output').textContent = output;
            });

            output += "ç­‰å¾… 1 ç§’...";
            document.getElementById('promise-output').textContent = output;
        }

        async function demoAsyncAwait() {
            let output = "Async/Await æ¼”ç¤º\n";
            output += "==================\n\n";

            const fetchSimulated = () => new Promise(resolve => 
                setTimeout(() => resolve({ data: "API æ•¸æ“š" }), 1000)
            );

            try {
                output += "æ­£åœ¨ç²å–æ•¸æ“š...\n";
                document.getElementById('async-await-output').textContent = output;

                const response = await fetchSimulated();
                output += `ç²å–æˆåŠŸ: ${response.data}\n`;
                document.getElementById('async-await-output').textContent = output;
            } catch (error) {
                output += `éŒ¯èª¤: ${error.message}`;
                document.getElementById('async-await-output').textContent = output;
            }
        }

        // ==================== æ¨¡çµ„åŒ– ====================
        function demoModules() {
            let output = "æ¨¡çµ„åŒ–æ¼”ç¤º\n";
            output += "==================\n\n";

            output += "export ç¤ºç¯„ (math.js):\n";
            output += "export const add = (a, b) => a + b;\n";
            output += "export default class Calculator { }\n\n";

            output += "import ç¤ºç¯„ (main.js):\n";
            output += "import { add } from './math.js';\n";
            output += "import Calculator from './math.js';\n\n";

            output += "å„ªé»:\n";
            output += "âœ“ ä»£ç¢¼çµ„ç¹”æ¸…æ™°\n";
            output += "âœ“ é¿å…å…¨å±€æ±¡æŸ“\n";
            output += "âœ“ æ˜“æ–¼ç¶­è­·å’Œæ¸¬è©¦";

            document.getElementById('modules-output').textContent = output;
        }

        // ==================== é€²éšç‰¹æ€§ ====================
        function demoOptionalChaining() {
            let output = "å¯é¸éˆ ?. æ¼”ç¤º\n";
            output += "==================\n\n";

            const user = {
                name: "Alice",
                address: {
                    city: "NYC"
                }
            };

            const emptyUser = null;

            output += `user?.name = "${user?.name}"\n`;
            output += `user?.address?.city = "${user?.address?.city}"\n`;
            output += `emptyUser?.name = ${emptyUser?.name}\n\n`;

            output += "å„ªé»:\n";
            output += "âœ“ é¿å… TypeError\n";
            output += "âœ“ ä»£ç¢¼æ›´ç°¡æ½”\n";
            output += "âœ“ é©åˆæ·±å±¤åµŒå¥—";

            document.getElementById('optional-chaining-output').textContent = output;
        }

        function demoNullishCoalescing() {
            let output = "ç©ºå€¼åˆä½µ ?? æ¼”ç¤º\n";
            output += "==================\n\n";

            const config = {
                timeout: 0,
                retries: false
            };

            output += `config.timeout = 0\n`;
            output += `config.timeout || 5000 = ${config.timeout || 5000} (ä¸å°ï¼)\n`;
            output += `config.timeout ?? 5000 = ${config.timeout ?? 5000} (æ­£ç¢ºï¼)\n\n`;

            output += `config.retries = false\n`;
            output += `config.retries || 3 = ${config.retries || 3} (ä¸å°ï¼)\n`;
            output += `config.retries ?? 3 = ${config.retries ?? 3} (æ­£ç¢ºï¼)`;

            document.getElementById('nullish-coalescing-output').textContent = output;
        }

        function demoLogicalAssignment() {
            let output = "é‚è¼¯è³¦å€¼é‹ç®—ç¬¦æ¼”ç¤º\n";
            output += "==================\n\n";

            let a = 5;
            a &&= 10;
            output += `let a = 5; a &&= 10; // a = ${a}\n\n`;

            let b;
            b ||= 20;
            output += `let b; b ||= 20; // b = ${b}\n\n`;

            let c;
            c ??= 30;
            output += `let c; c ??= 30; // c = ${c}`;

            document.getElementById('logical-assignment-output').textContent = output;
        }

        // ==================== å¾…è¾¦äº‹é …æ‡‰ç”¨ ====================
        class TodoApp {
            constructor() {
                this.todos = [];
                this.nextId = 1;
            }

            addTodo(text) {
                if (text.trim()) {
                    this.todos.push({
                        id: this.nextId++,
                        text,
                        completed: false
                    });
                    this.render();
                }
            }

            removeTodo(id) {
                this.todos = this.todos.filter(t => t.id !== id);
                this.render();
            }

            toggleTodo(id) {
                const todo = this.todos.find(t => t.id === id);
                if (todo) {
                    todo.completed = !todo.completed;
                    this.render();
                }
            }

            render() {
                const list = document.getElementById('todo-list');
                list.innerHTML = this.todos.map(({ id, text, completed }) => `
                    <li style="padding: 10px; background: #f5f5f5; margin: 5px 0; border-radius: 5px; display: flex; justify-content: space-between; align-items: center;">
                        <input type="checkbox" ${completed ? 'checked' : ''} onchange="app.toggleTodo(${id})" style="margin-right: 10px;">
                        <span style="flex: 1; text-decoration: ${completed ? 'line-through' : 'none'};">${text}</span>
                        <button onclick="app.removeTodo(${id})" style="padding: 5px 10px; background: #f5576c; color: white; border: none; border-radius: 3px; cursor: pointer; font-size: 12px;">åˆªé™¤</button>
                    </li>
                `).join('');
            }
        }

        const app = new TodoApp();

        function addNewTodo() {
            const input = document.getElementById('todo-input');
            app.addTodo(input.value);
            input.value = '';
            input.focus();
        }

        // å›è»Šéµæ·»åŠ ä»»å‹™
        document.getElementById('todo-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                addNewTodo();
            }
        });
    </script>
</body>
</html>